<?xml version = '1.0' encoding = 'UTF-8'?>
<Module version="101020002" xmlns="http://xmlns.oracle.com/Forms">
   <FormModule Name="CONTR025" ConsoleWindow="WINDOW0" RecordVisualAttributeGroupName="" DirtyInfo="true" RuntimeComp="4.5" MenuModule="MPPAL" FirstNavigationBlockName="CONTROL" CursorMode="Abrir" MenuRole="" Title="FORMA DE CONTRATOS" InitializeMenu="MPPAL">
      <Coordinate CharacterCellWidth="5" CoordinateSystem="Real" CharacterCellHeight="14" RealUnit="Puntos" DefaultFontScaling="true"/>
      <Alert Name="MSGERR" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Alert Name="PREGUNTAR" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Alert Name="MESSAGEBOX" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Block Name="CONTROL" DirtyInfo="true" QueryDataSourceType="Ninguno" DMLDataType="Ninguno" ShowScrollbar="false" RecordsDisplayCount="1" DatabaseBlock="false" VisualAttributeName="DEFAULT" RecordOrientation="Vertical">
         <Item Name="C_AGR" AutoHint="true" Height="14" PromptAlign="Centro" Width="26" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="2" Label="C Agr" Hint="Por Favor Digite El Código De La Agencia" ShowHorizontalScrollbar="false" ItemsDisplay="1" MaximumLength="2" ShowVerticalScrollbar="false" ItemType="Área del Usuario" CaseRestriction="Superior" Prompt="Agencia" UpdateAllowed="true" DirtyInfo="true" Bevel="Hundido" XPosition="15" Visible="true" PromptJustification="Centro" QueryAllowed="true" LovName="AGENCIA" DatabaseItem="false" Required="false" CompressionQuality="Ninguno" ValidateFromList="true" DataType="Char" YPosition="40" VisualAttributeName="NORMAL" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" TabPageName="" CanvasName="PRINCIPAL" Enabled="true"/>
         <Item Name="NOMAGE" AutoHint="true" Height="14" Width="136" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="40" Label="C Agr" Hint="Nombre de La Agencia" ShowHorizontalScrollbar="false" ItemsDisplay="1" MaximumLength="40" ShowVerticalScrollbar="false" ItemType="Casilla de Control" CaseRestriction="Superior" UpdateAllowed="true" DirtyInfo="true" Bevel="Hundido" XPosition="41" Visible="true" QueryAllowed="true" DatabaseItem="false" Required="false" CompressionQuality="Ninguno" DataType="Char" VisualAttributeName="NORMAL" YPosition="40" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="false" TabPageName="" CanvasName="PRINCIPAL" Enabled="false"/>
         <Item Name="N_IDE" AutoHint="true" Height="14" PromptAlign="Centro" Width="82" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="20" Label="N Ide" Hint="Por Favor Digite El Número de Identificación del Contratista o Consulte La Lista De Valores." ShowHorizontalScrollbar="false" ItemsDisplay="1" MaximumLength="20" ShowVerticalScrollbar="false" ItemType="Área del Usuario" CaseRestriction="Superior" Prompt="Proveedor" UpdateAllowed="true" DirtyInfo="true" Bevel="Hundido" XPosition="180" Visible="true" PromptJustification="Centro" QueryAllowed="true" LovName="PROVEED" DatabaseItem="false" Required="false" CompressionQuality="Ninguno" ValidateFromList="true" DataType="Char" YPosition="40" VisualAttributeName="NORMAL" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" TabPageName="" CanvasName="PRINCIPAL" Enabled="true"/>
         <Item Name="NOMPROV" AutoHint="true" Height="14" InsertAllowed="false" Width="230" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="60" Label="N Ide" Hint="Nombre Del Contratista." ShowHorizontalScrollbar="false" ItemsDisplay="1" MaximumLength="60" ShowVerticalScrollbar="false" ItemType="Casilla de Control" CaseRestriction="Superior" UpdateAllowed="false" DirtyInfo="true" Bevel="Hundido" XPosition="263" Visible="true" QueryAllowed="true" DatabaseItem="false" Required="false" CompressionQuality="Ninguno" DataType="Char" VisualAttributeName="NORMAL" YPosition="40" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="false" TabPageName="" CanvasName="PRINCIPAL" Enabled="false"/>
         <Item Name="N_CONT" AutoHint="true" Height="14" PromptAlign="Centro" Width="98" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="16" Label="N Cont" Hint="Por Favor Digite el Número del Contrato." ShowHorizontalScrollbar="false" ItemsDisplay="1" MaximumLength="16" ShowVerticalScrollbar="false" ItemType="Área del Usuario" CaseRestriction="Superior" Prompt="Contrato" UpdateAllowed="true" DirtyInfo="true" Bevel="Hundido" XPosition="494" Visible="true" PromptJustification="Centro" QueryAllowed="true" LovName="CONTRATOS" DatabaseItem="false" Required="false" CompressionQuality="Ninguno" ValidateFromList="true" DataType="Char" YPosition="40" VisualAttributeName="NORMAL" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" TabPageName="" CanvasName="PRINCIPAL" Enabled="true">
            <Trigger Name="KEY-NEXT-ITEM" TriggerText="buscaR; &amp;#10;go_item('poliza_contr.COD_TIPO'); " DirtyInfo="true"/>
         </Item>
      </Block>
      <Block Name="CONT_CXP" UpdateAllowed="true" DirtyInfo="true" WhereClause="c_emp =  :global.empresa and&amp;#10;n_cont = :control.n_cont  " QueryDataSourceType="Tabla" DMLDataName="CONT_CXP" DeleteAllowed="false" VisualAttributeName="DEFAULT" DatabaseBlock="true" RecordOrientation="Vertical" QueryDataSourceName="CONT_CXP" DMLDataType="Tabla" ShowScrollbar="false" EnforcedPrimaryKey="false" RecordsDisplayCount="1">
         <Item Name="C_AGR" AutoHint="true" Height="14" InsertAllowed="false" Width="27" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="2" Label="C Agr" Hint="Por Favor Digite El Código De La Agencia" ShowHorizontalScrollbar="false" MaximumLength="2" ShowVerticalScrollbar="false" ItemType="Casilla de Control" CaseRestriction="Superior" Prompt="Agencia" UpdateAllowed="false" DirtyInfo="true" Bevel="Hundido" XPosition="127" Visible="true" QueryAllowed="true" LovName="" DatabaseItem="true" Required="true" NextNavigationItemName="" CompressionQuality="Ninguno" ValidateFromList="true" DataType="Char" VisualAttributeName="NORMAL" YPosition="48" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" TabPageName="" PreviousNavigationItemName="" CanvasName="" Enabled="true"/>
         <Item Name="NOMAGE" AutoHint="true" Height="14" Width="185" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="40" Label="C Agr" Hint="Nombre de La Agencia" ShowHorizontalScrollbar="false" MaximumLength="40" ShowVerticalScrollbar="false" ItemType="Casilla de Control" CaseRestriction="Superior" UpdateAllowed="true" DirtyInfo="true" Bevel="Hundido" XPosition="155" Visible="true" QueryAllowed="true" DatabaseItem="false" Required="true" CompressionQuality="Ninguno" NextNavigationItemName="" DataType="Char" VisualAttributeName="NORMAL" YPosition="48" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="false" TabPageName="" CanvasName="" Enabled="false"/>
         <Item Name="N_CONT" AutoHint="true" Height="14" PromptFontName="Arial" Width="87" DistanceBetweenRecords="0" QueryLength="20" Label="N Cont" Hint="Por Favor Digite el Número del Contrato." ShowHorizontalScrollbar="false" MaximumLength="16" ShowVerticalScrollbar="false" ItemType="Casilla de Control" CaseRestriction="Superior" PromptForegroundColor="r25g0b75" Prompt="Nro. Contrato" UpdateAllowed="false" DirtyInfo="true" XPosition="35" Bevel="Hundido" Visible="true" QueryAllowed="true" PromptFontSize="800" PromptFontSpacing="Normal" DatabaseItem="true" Required="true" NextNavigationItemName="" CompressionQuality="Ninguno" DataType="Char" YPosition="46" VisualAttributeName="NORMAL" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" TabPageName="" CanvasName="" PromptFontStyle="Normal" Enabled="false" PromptFontWeight="Negrita"/>
         <Item Name="N_CONT_REF" AutoHint="true" Height="14" PromptFontName="Arial" Width="87" DistanceBetweenRecords="0" QueryLength="20" Label="N Cont" Hint="Por Favor Digite el Número del Contrato." ShowHorizontalScrollbar="false" MaximumLength="16" ShowVerticalScrollbar="false" ItemType="Casilla de Control" CaseRestriction="Superior" PromptForegroundColor="r25g0b75" Prompt="Nro. Contrato" UpdateAllowed="false" DirtyInfo="true" XPosition="35" Bevel="Hundido" Visible="true" QueryAllowed="true" PromptFontSize="800" PromptFontSpacing="Normal" DatabaseItem="true" Required="true" NextNavigationItemName="" CompressionQuality="Ninguno" DataType="Char" YPosition="46" VisualAttributeName="NORMAL" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" TabPageName="" CanvasName="" PromptFontStyle="Normal" Enabled="false" PromptFontWeight="Negrita"/>
         <Item Name="MON" AutoHint="true" Height="14" PromptFontName="Arial" Width="58" DistanceBetweenRecords="0" QueryLength="7" Label="Mon" Hint="Por Favor Digite La Moneda" ShowHorizontalScrollbar="false" MaximumLength="7" ShowVerticalScrollbar="false" ItemType="Casilla de Control" CaseRestriction="Superior" PromptForegroundColor="r25g0b75" Prompt="Moneda" UpdateAllowed="true" DirtyInfo="true" XPosition="159" Bevel="Hundido" Visible="true" QueryAllowed="true" PromptFontSize="800" PromptFontSpacing="Normal" DatabaseItem="true" Required="false" NextNavigationItemName="" CompressionQuality="Ninguno" ValidateFromList="true" DataType="Char" YPosition="88" VisualAttributeName="NORMAL" RecordVisualAttributeGroupName="CURR_RECORD" FixedLength="false" InitializeValue="" KeyboardNavigable="false" PromptAttachmentEdge="Arriba" TabPageName="" CanvasName="" PromptFontStyle="Normal" Enabled="false" PromptFontWeight="Negrita"/>
         <Item Name="TAS" AutoHint="true" Height="14" PromptFontName="Arial" Width="58" DistanceBetweenRecords="0" QueryLength="16" Label="Mon" Hint="Por Favor Digite La Tasa" ShowHorizontalScrollbar="false" MaximumLength="16" ShowVerticalScrollbar="false" ItemType="Casilla de Control" CaseRestriction="Superior" PromptForegroundColor="r25g0b75" Prompt="Tasa Cambio" UpdateAllowed="true" DirtyInfo="true" Justification="Derecha" XPosition="223" Bevel="Hundido" Visible="true" QueryAllowed="true" PromptFontSize="800" PromptFontSpacing="Normal" DatabaseItem="true" Required="false" CompressionQuality="Ninguno" ValidateFromList="true" DataType="Number" YPosition="88" VisualAttributeName="NORMAL" RecordVisualAttributeGroupName="CURR_RECORD" FixedLength="false" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" TabPageName="" CanvasName="" PromptFontStyle="Normal" Enabled="false" PromptFontWeight="Negrita"/>
         <Item Name="N_IDE" AutoHint="true" Height="15" Width="69" DistanceBetweenRecords="0" QueryLength="12" Label="N Ide" Hint="Por Favor Digite El Número de Identificación del Contratista o Consulte La Lista De Valores." ShowHorizontalScrollbar="false" MaximumLength="12" ShowVerticalScrollbar="false" ItemType="Casilla de Control" CaseRestriction="Superior" UpdateAllowed="false" DirtyInfo="true" Bevel="Hundido" XPosition="58" Visible="true" QueryAllowed="true" DatabaseItem="true" Required="true" CompressionQuality="Ninguno" NextNavigationItemName="" ValidateFromList="false" DataType="Char" VisualAttributeName="NORMAL" YPosition="113" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" TabPageName="" CanvasName="" Enabled="false"/>
         <Item Name="NOMPROV" AutoHint="true" Height="15" InsertAllowed="false" Width="241" DistanceBetweenRecords="0" QueryLength="60" Label="N Ide" Hint="Nombre Del Contratista." ShowHorizontalScrollbar="false" MaximumLength="60" ShowVerticalScrollbar="false" ItemType="Casilla de Control" CaseRestriction="Superior" UpdateAllowed="false" DirtyInfo="true" Bevel="Hundido" XPosition="130" Visible="true" QueryAllowed="true" DatabaseItem="false" Required="true" CompressionQuality="Ninguno" NextNavigationItemName="" DataType="Char" VisualAttributeName="NORMAL" YPosition="113" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="false" TabPageName="" CanvasName="" Enabled="false"/>
         <Item Name="N_CXP" AutoHint="true" Height="15" PromptAlign="Centro" Width="55" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="6" Label="N Cont" Hint="Por Favor Digite el Número de la Cuenta Por Pagar." ShowHorizontalScrollbar="false" MaximumLength="6" ShowVerticalScrollbar="false" ItemType="Área del Usuario" CaseRestriction="Superior" Prompt="Nro. Cta x Pagar" FormatMask="999999" UpdateAllowed="true" DirtyInfo="true" XPosition="19" Bevel="Hundido" Visible="true" PromptJustification="Centro" QueryAllowed="true" DatabaseItem="true" PromptAlignOffset="0" Required="true" CompressionQuality="Ninguno" NextNavigationItemName="" ValidateFromList="false" DataType="Number" YPosition="75" VisualAttributeName="NORMAL" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" PromptAttachmentOffset="0" CanvasName="PRINCIPAL" Enabled="false"/>
         <Item Name="C_TIP" AutoHint="true" Height="14" InsertAllowed="false" Width="24" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="2" Label="C Tip" Hint="Indique el contrato a trabajar desde la Búsqueda en la barra de herramientas" ShowHorizontalScrollbar="false" MaximumLength="2" ShowVerticalScrollbar="false" ItemType="Área del Usuario" CaseRestriction="Superior" Prompt="Clasificación del Contato" UpdateAllowed="false" DirtyInfo="true" Bevel="Hundido" XPosition="92" Visible="true" QueryAllowed="true" LovName="" DatabaseItem="true" Required="false" CompressionQuality="Ninguno" NextNavigationItemName="" ValidateFromList="false" DataType="Char" VisualAttributeName="NORMAL" YPosition="76" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" PromptAttachmentOffset="1" CanvasName="PRINCIPAL" Enabled="true"/>
         <Item Name="DES_TIP" AutoHint="true" Height="14" PromptFontName="Century Gothic" Width="255" DistanceBetweenRecords="0" QueryLength="40" Label="C Tip" Hint="Por Favor Digite El Codigo Del Tipo De Contrato o Consulte La Lista De Ayuda." ShowHorizontalScrollbar="false" MaximumLength="40" ShowVerticalScrollbar="false" ItemType="Área del Usuario" CaseRestriction="Superior" UpdateAllowed="true" DirtyInfo="true" Bevel="Hundido" XPosition="116" Visible="true" QueryAllowed="true" DatabaseItem="false" Required="true" CompressionQuality="Ninguno" NextNavigationItemName="" ValidateFromList="false" DataType="Char" VisualAttributeName="NORMAL" YPosition="76" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="false" CanvasName="PRINCIPAL" Enabled="false"/>
         <Item Name="F_FIRMA" AutoHint="true" Height="13" Width="59" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="10" Label="F Ini" Hint="Por Favir Digite La Fecha De Inicio Del Contrato." ShowHorizontalScrollbar="false" MaximumLength="10" ShowVerticalScrollbar="false" ItemType="Área del Usuario" CaseRestriction="Superior" Prompt="Firma" FormatMask="DD-MM-YYYY" UpdateAllowed="true" DirtyInfo="true" Bevel="Hundido" XPosition="16" Visible="true" QueryAllowed="true" DatabaseItem="true" Required="true" CompressionQuality="Ninguno" NextNavigationItemName="" DataType="Date" VisualAttributeName="NORMAL" YPosition="121" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" CanvasName="PRINCIPAL" Enabled="false"/>
         <Item Name="F_INI" AutoHint="true" Height="14" Width="59" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="10" Label="F Ini" Hint="Por Favir Digite La Fecha De Inicio Del Contrato." ShowHorizontalScrollbar="false" MaximumLength="10" ShowVerticalScrollbar="false" ItemType="Área del Usuario" CaseRestriction="Superior" Prompt="Inicio" FormatMask="DD-MM-YYYY" UpdateAllowed="true" DirtyInfo="true" Bevel="Hundido" XPosition="77" Visible="true" QueryAllowed="true" DatabaseItem="true" Required="true" CompressionQuality="Ninguno" NextNavigationItemName="" DataType="Date" VisualAttributeName="NORMAL" YPosition="121" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" CanvasName="PRINCIPAL" Enabled="false"/>
         <Item Name="F_VEN" AutoHint="true" Height="14" Width="59" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="10" Label="F Ven" Hint="Por Favor Digite La Fecha De Vencimiento  Del Contrato." ShowHorizontalScrollbar="false" MaximumLength="10" ShowVerticalScrollbar="false" ItemType="Área del Usuario" CaseRestriction="Superior" Prompt="Fin" FormatMask="DD-MM-YYYY" UpdateAllowed="true" DirtyInfo="true" Bevel="Hundido" XPosition="138" Visible="true" QueryAllowed="true" DatabaseItem="true" Required="true" CompressionQuality="Ninguno" NextNavigationItemName="" DataType="Date" VisualAttributeName="NORMAL" YPosition="121" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" CanvasName="PRINCIPAL" Enabled="false"/>
         <Item Name="FECHA_LIQ" AutoHint="true" Height="14" Width="59" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="10" Label="F Ven" Hint="Por Favor Digite La Fecha De Vencimiento  Del Contrato." ShowHorizontalScrollbar="false" MaximumLength="10" ShowVerticalScrollbar="false" ItemType="Área del Usuario" CaseRestriction="Superior" Prompt="Liquidación" FormatMask="DD-MM-YYYY" UpdateAllowed="true" DirtyInfo="true" Bevel="Hundido" XPosition="199" Visible="true" QueryAllowed="true" DatabaseItem="true" Required="true" CompressionQuality="Ninguno" NextNavigationItemName="" DataType="Date" VisualAttributeName="NORMAL" YPosition="121" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" CanvasName="PRINCIPAL" Enabled="false"/>
         <Item Name="DIAS" AutoHint="true" Height="14" InsertAllowed="false" Width="45" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="10" Label="F Ven" Hint="Por Favor Digite La Fecha De Vencimiento  Del Contrato." ShowHorizontalScrollbar="false" MaximumLength="10" ShowVerticalScrollbar="false" ItemType="Área del Usuario" CaseRestriction="Superior" Prompt="Días" FormatMask="" UpdateAllowed="false" DirtyInfo="true" Justification="Derecha" Bevel="Hundido" XPosition="260" Visible="true" QueryAllowed="true" DatabaseItem="false" Required="true" CompressionQuality="Ninguno" NextNavigationItemName="" DataType="Number" VisualAttributeName="NORMAL" YPosition="121" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" CanvasName="PRINCIPAL" Enabled="false"/>
         <Item Name="ANO_PLAZO" AutoHint="true" Height="14" InsertAllowed="true" Width="41" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="5" Label="F Ven" Hint="Por Favor Digite La Fecha De Vencimiento  Del Contrato." ShowHorizontalScrollbar="false" MaximumLength="4" ShowVerticalScrollbar="false" ItemType="Área del Usuario" CaseRestriction="Superior" Prompt="Años" FormatMask="" UpdateAllowed="true" DirtyInfo="true" Justification="Derecha" Bevel="Hundido" XPosition="320" Visible="true" QueryAllowed="true" DatabaseItem="true" Required="true" CompressionQuality="Ninguno" NextNavigationItemName="" DataType="Number" VisualAttributeName="NORMAL" YPosition="121" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" CanvasName="PRINCIPAL" Enabled="false"/>
         <Item Name="MES_PLAZO" AutoHint="true" Height="14" InsertAllowed="true" Width="40" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="5" Label="F Ven" Hint="Por Favor Digite La Fecha De Vencimiento  Del Contrato." ShowHorizontalScrollbar="false" MaximumLength="2" ShowVerticalScrollbar="false" ItemType="Área del Usuario" CaseRestriction="Superior" Prompt="Meses" FormatMask="" UpdateAllowed="true" DirtyInfo="true" Justification="Derecha" Bevel="Hundido" XPosition="369" Visible="true" QueryAllowed="true" DatabaseItem="true" Required="true" CompressionQuality="Ninguno" NextNavigationItemName="" DataType="Number" VisualAttributeName="NORMAL" YPosition="121" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" PromptAttachmentOffset="0" CanvasName="PRINCIPAL" Enabled="false"/>
         <Item Name="DIAS_PLAZO" AutoHint="true" Height="14" InsertAllowed="true" Width="40" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="5" Label="F Ven" Hint="Por Favor Digite La Fecha De Vencimiento  Del Contrato." ShowHorizontalScrollbar="false" MaximumLength="3" ShowVerticalScrollbar="false" ItemType="Área del Usuario" CaseRestriction="Superior" Prompt="Días" FormatMask="" UpdateAllowed="true" DirtyInfo="true" Justification="Derecha" Bevel="Hundido" XPosition="417" Visible="true" QueryAllowed="true" DatabaseItem="true" Required="true" CompressionQuality="Ninguno" NextNavigationItemName="" DataType="Number" VisualAttributeName="NORMAL" YPosition="121" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" CanvasName="PRINCIPAL" Enabled="false"/>
         <Item Name="C_EMP" Height="14" Width="50" DistanceBetweenRecords="0" QueryLength="2" Label="C Emp" Hint="Enter value for : C_EMP" ShowHorizontalScrollbar="false" MaximumLength="2" ItemType="Área del Usuario" ShowVerticalScrollbar="false" DirtyInfo="true" UpdateAllowed="false" Bevel="Hundido" XPosition="63" Visible="true" QueryAllowed="true" DatabaseItem="true" CompressionQuality="Ninguno" NextNavigationItemName="" Required="true" DataType="Char" VisualAttributeName="DEFAULT" YPosition="203" KeyboardNavigable="true" Enabled="true"/>
         <Item Name="EST" Height="14" Width="14" DistanceBetweenRecords="0" QueryLength="1" Label="Est" Hint="Enter value for : EST" ShowHorizontalScrollbar="false" MaximumLength="1" ItemType="Área del Usuario" ShowVerticalScrollbar="false" DirtyInfo="true" UpdateAllowed="true" Bevel="Hundido" XPosition="1038" Visible="true" QueryAllowed="true" DatabaseItem="true" CompressionQuality="Ninguno" NextNavigationItemName="" DataType="Char" VisualAttributeName="DEFAULT" YPosition="238" KeyboardNavigable="true" Enabled="true"/>
         <Item Name="OTROSI" Height="14" Width="14" DistanceBetweenRecords="0" QueryLength="1" Label="Est" Hint="Enter value for : EST" ShowHorizontalScrollbar="false" MaximumLength="1" ItemType="Área del Usuario" ShowVerticalScrollbar="false" DirtyInfo="true" UpdateAllowed="true" Bevel="Hundido" XPosition="1038" Visible="true" QueryAllowed="true" DatabaseItem="true" CompressionQuality="Ninguno" NextNavigationItemName="" DataType="Char" VisualAttributeName="DEFAULT" YPosition="238" KeyboardNavigable="true" Enabled="true"/>
         <Item Name="SALDO" AutoHint="true" Height="14" Width="81" DistanceBetweenRecords="0" QueryLength="16" Label="Monto" Hint="Por Favor Ingrese El Monto Del Contrato." ShowHorizontalScrollbar="false" MaximumLength="16" ShowVerticalScrollbar="false" ItemType="Área del Usuario" CaseRestriction="Superior" FormatMask="999G999G999G990" UpdateAllowed="true" Justification="Derecha" DirtyInfo="true" Bevel="Hundido" XPosition="77" Visible="true" QueryAllowed="true" DatabaseItem="true" Required="true" CompressionQuality="Ninguno" NextNavigationItemName="" DataType="Number" YPosition="192" KeyboardNavigable="true" CanvasName="" Enabled="false"/>
         <Item Name="MONTO" AutoHint="true" Height="14" PromptAlign="Centro" Width="117" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" QueryLength="18" Label="Monto" Hint="Por Favor Ingrese El Monto Del Contrato." ShowHorizontalScrollbar="false" MaximumLength="18" ShowVerticalScrollbar="false" ItemType="Área del Usuario" CaseRestriction="Superior" Prompt="Monto" FormatMask="999G999G999G990D00" UpdateAllowed="true" DirtyInfo="true" Justification="Derecha" Bevel="Hundido" XPosition="478" Visible="true" PromptJustification="Centro" QueryAllowed="true" DatabaseItem="true" Required="true" CompressionQuality="Ninguno" NextNavigationItemName="" DataType="Number" YPosition="120" VisualAttributeName="NORMAL" RecordVisualAttributeGroupName="CURR_RECORD" KeyboardNavigable="true" PromptAttachmentEdge="Arriba" CanvasName="PRINCIPAL" Enabled="false"/>
         <Item Name="USR" DirtyInfo="true" Height="14" KeyboardNavigable="false" Width="45" Enabled="false"/>
         <Relation Name="CONT_CXP_POLIZA_CONTR" RelationType="Unión" DirtyInfo="true" DeleteRecord="En Cascada" DetailBlock="POLIZA_CONTR" AutoQuery="false" PreventMasterlessOperations="false" Deferred="false" JoinCondition="POLIZA_CONTR.C_EMP = CONT_CXP.C_EMP AND&amp;#10;POLIZA_CONTR.N_CONT = CONT_CXP.N_CONT"/>
         <Trigger Name="POST-QUERY" TriggerText="Begin&amp;#10;		:cont_cxp.dias := :cont_cxp.f_ven - :cont_cxp.f_ini;&amp;#10;		&amp;#10;		if :cont_cxp.n_ide is not null then&amp;#10;		   :cont_cxp.nomprov := Trae_Nombre (:Global.Empresa, :cont_cxp.n_ide);&amp;#10;		end if;&amp;#10; 		&amp;#10;		Select   nom into :Cont_cxp.nomage&amp;#10;		From     Agencia &amp;#10;		Where    C_Emp  = :global.empresa and&amp;#10;		         C_age  = :cont_cxp.C_agr; &amp;#10;		&amp;#10;		Select   nom into :Cont_cxp.des_tip&amp;#10;		From     Tipcont_cxp &amp;#10;		Where    C_Emp  = :global.empresa and&amp;#10;		         C_tip  = :cont_cxp.c_tip; &amp;#10;		:global.monto := :cont_cxp.monto;&amp;#10; 		&amp;#10;End;  &amp;#10;"/>
         <Trigger Name="ON-POPULATE-DETAILS" TriggerText="--&amp;#10;-- Begin default relation declare section&amp;#10;--&amp;#10;DECLARE&amp;#10;  recstat     VARCHAR2(20) := :System.record_status;   &amp;#10;  startitm    VARCHAR2(61) := :System.cursor_item;   &amp;#10;  rel_id      Relation;&amp;#10;--&amp;#10;-- End default relation declare section&amp;#10;--&amp;#10;--&amp;#10;-- Begin default relation program section&amp;#10;--&amp;#10;BEGIN&amp;#10;  IF ( recstat = 'NEW' or recstat = 'INSERT' ) THEN   &amp;#10;    RETURN;&amp;#10;  END IF;&amp;#10;  --&amp;#10;  -- Begin POLIZA_CONTR detail program section&amp;#10;  --&amp;#10;  IF ( (:CONT_CXP.C_EMP is not null) or (:CONT_CXP.N_CONT is not null) ) THEN   &amp;#10;    rel_id := Find_Relation('CONT_CXP.CONT_CXP_POLIZA_CONTR');   &amp;#10;    Query_Master_Details(rel_id, 'POLIZA_CONTR');   &amp;#10;  END IF;&amp;#10;  --&amp;#10;  -- End POLIZA_CONTR detail program section&amp;#10;  --&amp;#10;&amp;#10;  IF ( :System.cursor_item &lt;> startitm ) THEN     &amp;#10;     Go_Item(startitm);     &amp;#10;     Check_Package_Failure;     &amp;#10;  END IF;&amp;#10;END;&amp;#10;--&amp;#10;-- End default relation program section&amp;#10;--&amp;#10;" DirtyInfo="true"/>
         <Trigger Name="PRE-DELETE" TriggerText="--&amp;#10;-- Begin default relation program section&amp;#10;--&amp;#10;BEGIN&amp;#10;  --&amp;#10;  -- Begin POLIZA_CONTR detail program section&amp;#10;  --&amp;#10;   DELETE FROM poliza_contr p&amp;#10;   WHERE p.C_EMP = :CONT_CXP.C_EMP and p.N_CONT = :CONT_CXP.N_CONT;&amp;#10;  --&amp;#10;  -- End POLIZA_CONTR detail program section&amp;#10;  --&amp;#10;END;&amp;#10;--&amp;#10;-- End default relation program section&amp;#10;--&amp;#10;" DirtyInfo="true"/>
      </Block>
      <Block Name="POLIZA_CONTR" ScrollbarTabPageName="" DirtyInfo="true" WhereClause="c_emp  = :global.empresa  and&amp;#10;n_cont = :cont_cxp.n_cont and &amp;#10;estado = 'A'&amp;#10; " ScrollbarWidth="12" ScrollbarXPosition="574" OrderByClause="csc, N_POLIZA" BackColor="r75g88b100" QueryDataSourceName="poliza_contr" ScrollbarYPosition="167" ShowScrollbar="true" ScrollbarCanvasName="PRINCIPAL" RecordsDisplayCount="10" ScrollbarLength="140">
         <Item Name="COD_TIPO" AutoHint="true" Height="14" PromptAlign="Centro" Width="51" PromptVisualAttributeName="ETIQUETA" ColumnName="" Hint="Indique el código del tipo de póliza o haga uso de la lista de valores." PromptDisplayStyle="Primer Registro" ItemsDisplay="0" MaximumLength="10" ItemType="Área del Usuario" CaseRestriction="Superior" Prompt="Tipo Póliza" DirtyInfo="true" Bevel="Hundido" XPosition="8" LovName="TIPOPOL" Required="true" VisualAttributeName="NORMAL" YPosition="167" RecordVisualAttributeGroupName="CURR_RECORD" PromptAttachmentEdge="Arriba" TabPageName="" CanvasName="PRINCIPAL">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="	Begin&amp;#10;			Select porcen, ano, mes, dias&amp;#10;			Into :POLIZA_CONTR.porcen, :POLIZA_CONTR.ano, :POLIZA_CONTR.mes, :POLIZA_CONTR.dias&amp;#10;			From tipo_poliza&amp;#10;			Where c_emp = :global.empresa&amp;#10;			  and cod_tipo = :poliza_contr.cod_tipo;&amp;#10;			Exception When No_Data_Found Then&amp;#10;				messagebox('Porcentaje de aplicación No definido para el tipo de Póliza');&amp;#10;			Raise Form_Trigger_Failure;&amp;#10;			End;&amp;#10;Begin&amp;#10;	If :poliza_contr.cod_tipo is not null then&amp;#10;      actualiza_fechas;&amp;#10;	end If;&amp;#10;End;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="TIPO_POL" AutoHint="true" Height="14" PromptAlign="Centro" PromptFontName="Arial" Width="375" PromptVisualAttributeName="ETIQUETA" ColumnName="" Hint="Indique el código del tipo de póliza o haga uso de la lista de valores." PromptDisplayStyle="Primer Registro" ItemsDisplay="1" MaximumLength="100" ItemType="Casilla de Control" CaseRestriction="Superior" Prompt="Descrip. Tipo Póliza" DirtyInfo="true" Bevel="Hundido" XPosition="91" PromptFontSize="800" PromptFontSpacing="Normal" LovName="" DatabaseItem="false" Required="false" YPosition="327" VisualAttributeName="NORMAL" RecordVisualAttributeGroupName="CURR_RECORD" PromptAttachmentEdge="Principio" CanvasName="PRINCIPAL" PromptFontStyle="Normal" PromptFontWeight="Negrita">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="Begin&amp;#10;	If :poliza_contr.cod_tipo is not null then&amp;#10;    actualiza_fechas;&amp;#10;	end If;&amp;#10;End;&amp;#10;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="N_IDE_ASEG" AutoHint="true" Height="14" PromptAlign="Principio" Width="79" PromptVisualAttributeName="ETIQUETA" ColumnName="" Hint="Digite el valor de la póliza" PromptDisplayStyle="Primer Registro" ItemsDisplay="0" MaximumLength="20" ItemType="Área del Usuario" Prompt="Aseguradora" FormatMask="" DirtyInfo="true" Justification="Izquierda" Bevel="Hundido" XPosition="60" LovName="ASEGURADORES" PromptAlignOffset="13" Required="false" ValidateFromList="true" DataType="Char" YPosition="167" VisualAttributeName="NORMAL" RecordVisualAttributeGroupName="CURR_RECORD" PromptAttachmentEdge="Arriba" PromptAttachmentOffset="0" TabPageName="" CanvasName="PRINCIPAL"/>
         <Item Name="ENTIDAD" AutoHint="true" Height="14" PromptAlign="Centro" Width="376" PromptVisualAttributeName="ETIQUETA" ColumnName="" Hint="Registre el nombre de la entidad aseguradora que emite la póliza" PromptDisplayStyle="Primer Registro" ItemsDisplay="1" MaximumLength="60" ItemType="Casilla de Control" CaseRestriction="Superior" Prompt="Entidad Emisora" DirtyInfo="true" Bevel="Hundido" XPosition="91" PromptAlignOffset="0" VisualAttributeName="NORMAL" YPosition="311" RecordVisualAttributeGroupName="CURR_RECORD" PromptAttachmentEdge="Principio" PromptAttachmentOffset="0" TabPageName="" CanvasName="PRINCIPAL"/>
         <Item Name="N_POLIZA" AutoHint="true" Height="14" PromptAlign="Centro" Width="111" PromptVisualAttributeName="ETIQUETA" ColumnName="" Hint="Indique el número de la póliza" PromptDisplayStyle="Primer Registro" ItemsDisplay="0" MaximumLength="20" ItemType="Área del Usuario" CaseRestriction="Superior" Prompt="Número " DirtyInfo="true" Bevel="Hundido" XPosition="140" PromptAlignOffset="0" Required="true" VisualAttributeName="NORMAL" YPosition="167" RecordVisualAttributeGroupName="CURR_RECORD" PromptAttachmentEdge="Arriba" TabPageName="" CanvasName="PRINCIPAL">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="	If :poliza_contr.n_poliza is not null then&amp;#10;    actualiza_fechas;&amp;#10;	end If;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="F_INI" DirtyInfo="true" PromptAlign="Centro" Height="14" XPosition="252" Bevel="Hundido" Width="54" Required="false" PromptVisualAttributeName="ETIQUETA" ColumnName="" DataType="Date" YPosition="167" VisualAttributeName="NORMAL" RecordVisualAttributeGroupName="CURR_RECORD" PromptDisplayStyle="Primer Registro" MaximumLength="10" ItemsDisplay="0" PromptAttachmentEdge="Arriba" ItemType="Área del Usuario" TabPageName="" CanvasName="PRINCIPAL" Prompt="Fecha Inicio" FormatMask="dd-mm-yyyy">
            <Trigger Name="POST-CHANGE" TriggerText="DECLARE&amp;#10;	  WFECHA DATe;&amp;#10;BEGIN	  &amp;#10;      If :cont_cxp.f_ven is not null then&amp;#10;				If :POLIZA_CONTR.dias > 0 then&amp;#10;					:poliza_contr.f_fin := :cont_cxp.f_ven + :POLIZA_CONTR.dias;&amp;#10;				End If;&amp;#10;				If  :POLIZA_CONTR.mes > 0 then&amp;#10;					  :poliza_contr.f_fin := add_months(:poliza_contr.f_fin, :POLIZA_CONTR.mes);&amp;#10;				End If;&amp;#10;	      If :POLIZA_CONTR.ano > 0 then&amp;#10;	      	Begin&amp;#10;		      	select to_char(to_number(to_char(:poliza_contr.f_fin,'YYYY')) + :POLIZA_CONTR.ano)||&amp;#10;		               to_char(:poliza_contr.F_fin,'mmdd') &amp;#10;		        Into wfecha&amp;#10;		        from dual;      	&amp;#10;		        Exception When Others then messagebox(sqlerrm);&amp;#10;		      End;&amp;#10;		      :poliza_contr.F_fin := to_date(wfecha,'YYYYMMDD');  &amp;#10;      	End If;&amp;#10;End If;  &amp;#10;END; " DirtyInfo="true"/>
         </Item>
         <Item Name="F_FIN" DirtyInfo="true" PromptAlign="Centro" Height="14" XPosition="307" Bevel="Hundido" Width="54" Required="false" PromptVisualAttributeName="ETIQUETA" ColumnName="" DataType="Date" YPosition="167" VisualAttributeName="NORMAL" RecordVisualAttributeGroupName="CURR_RECORD" PromptDisplayStyle="Primer Registro" MaximumLength="10" ItemsDisplay="0" PromptAttachmentEdge="Arriba" ItemType="Área del Usuario" TabPageName="" CanvasName="PRINCIPAL" Prompt="Fecha Final" FormatMask="dd-mm-yyyy">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="If :poliza_contr.f_fin &lt; :cont_cxp.f_ven then&amp;#10;	messagebox('Fecha de finalización de la póliza debe ser mayor a la del contrato. Verifique');&amp;#10;	raise form_trigger_failure;&amp;#10;end if;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="N_RESOL" Height="14" PromptAlign="Centro" PromptFontName="Arial" Width="70" PromptVisualAttributeName="ETIQUETA" DistanceBetweenRecords="0" ColumnName="" PromptDisplayStyle="Primer Registro" ItemsDisplay="0" MaximumLength="10" ItemType="Área del Usuario" Prompt="N° Resol." DirtyInfo="true" Bevel="Hundido" XPosition="362" PromptFontSize="800" PromptFontSpacing="Normal" Required="false" DataType="Char" VisualAttributeName="NORMAL" YPosition="167" RecordVisualAttributeGroupName="CURR_RECORD" PromptAttachmentEdge="Arriba" CanvasName="PRINCIPAL" PromptFontStyle="Normal" PromptFontWeight="Negrita">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="If :poliza_contr.f_fin &lt; :cont_cxp.f_ven then&amp;#10;	messagebox('Fecha de finalización de la póliza debe ser mayor a la del contrato. Verifique');&amp;#10;	raise form_trigger_failure;&amp;#10;end if;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="F_APROB" Height="14" PromptAlign="Centro" PromptFontName="Arial" Width="53" PromptVisualAttributeName="ETIQUETA" ColumnName="" PromptDisplayStyle="Primer Registro" ItemsDisplay="0" MaximumLength="10" ItemType="Área del Usuario" Prompt="Fecha Resol." FormatMask="dd-mm-yyyy" DirtyInfo="true" Bevel="Hundido" XPosition="433" PromptFontSize="800" PromptFontSpacing="Normal" Required="false" DataType="Date" YPosition="167" VisualAttributeName="NORMAL" RecordVisualAttributeGroupName="CURR_RECORD" PromptAttachmentEdge="Arriba" TabPageName="" CanvasName="PRINCIPAL" PromptFontStyle="Normal" PromptFontWeight="Negrita">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="If :poliza_contr.f_fin &lt; :cont_cxp.f_ven then&amp;#10;	messagebox('Fecha de finalización de la póliza debe ser mayor a la del contrato. Verifique');&amp;#10;	raise form_trigger_failure;&amp;#10;end if;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="MONTO" AutoHint="true" Height="14" PromptAlign="Centro" Width="86" PromptVisualAttributeName="ETIQUETA" ColumnName="" Hint="Digite el valor de la póliza" PromptDisplayStyle="Primer Registro" ItemsDisplay="0" MaximumLength="16" ItemType="Área del Usuario" Prompt="Monto" FormatMask="999G999G999G990D00" Justification="Derecha" DirtyInfo="true" Bevel="Hundido" XPosition="487" Required="false" DataType="Number" VisualAttributeName="NORMAL" YPosition="167" RecordVisualAttributeGroupName="CURR_RECORD" PromptAttachmentEdge="Arriba" TabPageName="" CanvasName="PRINCIPAL">
            <Trigger Name="WHEN-VALIDATE-ITEM" TriggerText="If :poliza_contr.monto = 0 then&amp;#10;	messagebox('Suministre el valor asegurado');&amp;#10;	raise form_trigger_failure;&amp;#10;end if;&amp;#10;" DirtyInfo="true"/>
         </Item>
         <Item Name="F_MOD" DirtyInfo="true" Height="14" MaximumLength="10" Width="50" ItemType="Área del Usuario" DataType="Date" Prompt="F Mod" ColumnName="" FormatMask="dd-mm-yyyy"/>
         <Item Name="C_EMP" DirtyInfo="true" Height="14" CopyValueFromItem="CONT_CXP.C_EMP" MaximumLength="2" Width="14" ItemType="Casilla de Control" Required="true" Prompt="C Emp" ColumnName=""/>
         <Item Name="ESTADO" DirtyInfo="true" Height="14" MaximumLength="1" Width="68" ItemType="Casilla de Control" ColumnName=""/>
         <Item Name="N_CONT" DirtyInfo="true" Height="14" CopyValueFromItem="CONT_CXP.N_CONT" MaximumLength="16" Width="77" ItemType="Casilla de Control" Required="true" Prompt="N Cont" ColumnName=""/>
         <Item Name="CSC" DirtyInfo="true" Height="14" CopyValueFromItem="" MaximumLength="3" Width="77" ItemType="Casilla de Control" Required="true" DataType="Number" Prompt="csc" ColumnName=""/>
         <Item Name="USR" DirtyInfo="true" Height="14" MaximumLength="30" Width="50" ItemType="Casilla de Control" DataType="Char" Prompt="F Mod" ColumnName=""/>
         <Item Name="FEC_PROC" DirtyInfo="true" Height="14" MaximumLength="10" Width="50" ItemType="Casilla de Control" DataType="Datetime" Prompt="F Mod" ColumnName=""/>
         <Item Name="PORCEN" DirtyInfo="true" Height="14" PromptAlign="Centro" XPosition="557" PromptJustification="Centro" DatabaseItem="false" Width="35" PromptVisualAttributeName="ETIQUETA" DataType="Number" YPosition="326" VisualAttributeName="NORMAL" ItemsDisplay="1" MaximumLength="4" PromptAttachmentEdge="Arriba" TabPageName="" CanvasName="PRINCIPAL" Prompt="%"/>
         <Item Name="ANO" DirtyInfo="true" Height="14" PromptAlign="Centro" XPosition="473" PromptJustification="Centro" DatabaseItem="false" Width="20" PromptVisualAttributeName="ETIQUETA" DataType="Number" YPosition="326" VisualAttributeName="NORMAL" ItemsDisplay="1" MaximumLength="4" PromptAttachmentEdge="Arriba" TabPageName="" CanvasName="PRINCIPAL" Prompt="Años"/>
         <Item Name="MES" DirtyInfo="true" Height="14" PromptAlign="Centro" XPosition="503" PromptJustification="Centro" DatabaseItem="false" Width="22" PromptVisualAttributeName="ETIQUETA" DataType="Number" YPosition="326" VisualAttributeName="NORMAL" ItemsDisplay="1" MaximumLength="4" PromptAttachmentEdge="Arriba" TabPageName="" CanvasName="PRINCIPAL" Prompt="Meses"/>
         <Item Name="DIAS" DirtyInfo="true" Height="14" PromptAlign="Centro" XPosition="530" PromptJustification="Centro" DatabaseItem="false" Width="23" PromptVisualAttributeName="ETIQUETA" DataType="Number" YPosition="326" VisualAttributeName="NORMAL" ItemsDisplay="1" MaximumLength="4" PromptAttachmentEdge="Arriba" TabPageName="" CanvasName="PRINCIPAL" Prompt="Dias"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCNochildren="false" DSCLength="2" DSCPrecision="0" DSCName="C_EMP" DSCScale="0" DSCMandatory="true"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCNochildren="false" DSCLength="16" DSCPrecision="0" DSCName="N_CONT" DSCScale="0" DSCMandatory="true"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCNochildren="false" DSCLength="20" DSCPrecision="0" DSCName="N_POLIZA" DSCScale="0" DSCMandatory="true"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCNochildren="false" DSCLength="10" DSCPrecision="0" DSCName="COD_TIPO" DSCScale="0" DSCMandatory="true"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCNochildren="false" DSCLength="0" DSCPrecision="0" DSCName="F_INI" DSCScale="0" DSCMandatory="true"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCNochildren="false" DSCLength="0" DSCPrecision="0" DSCName="F_FIN" DSCScale="0" DSCMandatory="true"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCNochildren="false" DSCLength="0" DSCPrecision="0" DSCName="F_MOD" DSCScale="0" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCNochildren="false" DSCLength="0" DSCPrecision="14" DSCName="MONTO" DSCScale="2" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCNochildren="false" DSCLength="30" DSCPrecision="0" DSCName="ENTIDAD" DSCScale="0" DSCMandatory="false"/>
         <Trigger Name="PRE-INSERT" TriggerText=":poliza_contr.c_emp := :global.empresa;&amp;#10;:poliza_contr.estado := 'A';&amp;#10;:poliza_contr.n_cont := :cont_cxp.n_cont; &amp;#10;:poliza_contr.fec_proc := sysdate;&amp;#10;:poliza_contr.usr := :global.usuario_sp6;&amp;#10;if :poliza_contr.n_resol is null then&amp;#10;  Begin&amp;#10;	  select nvl(max(csc),0)+1&amp;#10;	    into :poliza_contr.csc&amp;#10;	    from poliza_contr&amp;#10;	   where c_emp = :poliza_contr.c_emp&amp;#10;       and n_cont = :poliza_contr.n_cont;&amp;#10;  End;&amp;#10;else&amp;#10;  Begin&amp;#10;	  select nvl(max(csc),0)+1&amp;#10;	    into :poliza_contr.csc&amp;#10;	    from poliza_contr&amp;#10;	   where c_emp = :poliza_contr.c_emp&amp;#10;       and n_cont = :poliza_contr.n_cont&amp;#10;       and n_resol = :poliza_contr.n_resol;&amp;#10;  End;&amp;#10;end if;" DirtyInfo="true"/>
         <Trigger Name="PRE-UPDATE" TriggerText=":poliza_contr.f_mod := sysdate;&amp;#10;:poliza_contr.fec_proc := sysdate;&amp;#10;:poliza_contr.usr := :global.usuario_sp6;&amp;#10;:poliza_contr.n_cont := :cont_cxp.n_cont; &amp;#10;" DirtyInfo="true"/>
         <Trigger Name="POST-QUERY" TriggerText=" &amp;#10;	Begin&amp;#10;			Select descripcion, porcen, ano, mes, dias&amp;#10;			Into :poliza_contr.tipo_pol, :POLIZA_CONTR.porcen, &amp;#10;			     :POLIZA_CONTR.ano, :POLIZA_CONTR.mes, :POLIZA_CONTR.dias&amp;#10;			From tipo_poliza&amp;#10;			Where c_emp = :global.empresa&amp;#10;			  and cod_tipo = :poliza_contr.cod_tipo;&amp;#10;			Exception When No_Data_Found Then&amp;#10;				messagebox(' tipo de Póliza no definido ');&amp;#10;			Raise Form_Trigger_Failure;&amp;#10;			End;" DirtyInfo="true"/>
      </Block>
      <Block Name="CONTRATO_HISTO" DirtyInfo="true" QueryDataSourceName="CONTRATO_HISTO" ScrollbarWidth="14" ScrollbarLength="135">
         <Item Name="C_EMP" DirtyInfo="true" Height="14" MaximumLength="2" Width="20" ItemType="Área del Usuario" Required="true" Prompt="C Emp" ColumnName="C_EMP"/>
         <Item Name="N_IDE" DirtyInfo="true" Height="14" MaximumLength="12" Width="88" ItemType="Área del Usuario" Required="true" Prompt="N Ide" ColumnName="N_IDE"/>
         <Item Name="N_CONT" DirtyInfo="true" Height="14" MaximumLength="16" Width="115" ItemType="Área del Usuario" Required="true" Prompt="N Cont" ColumnName="N_CONT"/>
         <Item Name="VAL_ADI" DirtyInfo="true" Height="14" MaximumLength="16" Width="115" ItemType="Área del Usuario" DataType="Number" Prompt="Val Adi" ColumnName="VAL_ADI"/>
         <Item Name="FECHAMOD" DirtyInfo="true" Height="14" MaximumLength="10" Width="74" ItemType="Área del Usuario" DataType="Date" Prompt="Fechamod" ColumnName="FECHAMOD"/>
         <Item Name="OBJETO" DirtyInfo="true" Height="14" MaximumLength="4000" Width="412" ItemType="Área del Usuario" Prompt="Objeto" ColumnName="OBJETO"/>
         <Item Name="INTERVENT" DirtyInfo="true" Height="14" MaximumLength="12" Width="88" ItemType="Área del Usuario" Prompt="Intervent" ColumnName="INTERVENT"/>
         <Item Name="EST" DirtyInfo="true" Height="14" MaximumLength="1" Width="14" ItemType="Área del Usuario" Prompt="Est" ColumnName="EST"/>
         <Item Name="N_POLIZA" DirtyInfo="true" Height="14" MaximumLength="20" Width="142" ItemType="Área del Usuario" Prompt="N Poliza" ColumnName="N_POLIZA"/>
         <Item Name="F_INIP" DirtyInfo="true" Height="14" MaximumLength="10" Width="74" ItemType="Área del Usuario" DataType="Date" Prompt="F Inip" ColumnName="F_INIP"/>
         <Item Name="F_FIN" DirtyInfo="true" Height="14" MaximumLength="10" Width="74" ItemType="Área del Usuario" DataType="Date" Prompt="F Fin" ColumnName="F_FIN"/>
         <Item Name="F_MOD" DirtyInfo="true" Height="14" MaximumLength="10" Width="74" ItemType="Área del Usuario" DataType="Date" Prompt="F Mod" ColumnName="F_MOD"/>
         <Item Name="VAL_POL" DirtyInfo="true" Height="14" MaximumLength="16" Width="115" ItemType="Área del Usuario" DataType="Number" Prompt="Val Pol" ColumnName="VAL_POL"/>
         <Item Name="COD_TIPO" DirtyInfo="true" Height="14" MaximumLength="10" Width="74" ItemType="Área del Usuario" Prompt="Cod Tipo" ColumnName="COD_TIPO"/>
         <Item Name="ACEPTAR" FontSize="900" DirtyInfo="true" Height="15" XPosition="169" FontName="Arial" ForegroundColor="black" Width="81" YPosition="207" FontSpacing="Normal" Label="Aceptar" BackColor="r75g88b100" FontWeight="Negrita" FontStyle="Normal" ItemType="Botón">
            <Trigger Name="WHEN-BUTTON-PRESSED" TriggerText="go_item('cont_cxp.c_tip');" DirtyInfo="true"/>
         </Item>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCNochildren="false" DSCLength="2" DSCPrecision="0" DSCName="C_EMP" DSCScale="0" DSCMandatory="true"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCNochildren="false" DSCLength="12" DSCPrecision="0" DSCName="N_IDE" DSCScale="0" DSCMandatory="true"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCNochildren="false" DSCLength="16" DSCPrecision="0" DSCName="N_CONT" DSCScale="0" DSCMandatory="true"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCNochildren="false" DSCLength="0" DSCPrecision="14" DSCName="VAL_ADI" DSCScale="2" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCNochildren="false" DSCLength="0" DSCPrecision="0" DSCName="FECHAMOD" DSCScale="0" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCNochildren="false" DSCLength="4000" DSCPrecision="0" DSCName="OBJETO" DSCScale="0" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCNochildren="false" DSCLength="12" DSCPrecision="0" DSCName="INTERVENT" DSCScale="0" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCNochildren="false" DSCLength="1" DSCPrecision="0" DSCName="EST" DSCScale="0" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCNochildren="false" DSCLength="20" DSCPrecision="0" DSCName="N_POLIZA" DSCScale="0" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCNochildren="false" DSCLength="0" DSCPrecision="0" DSCName="F_INIP" DSCScale="0" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCNochildren="false" DSCLength="0" DSCPrecision="0" DSCName="F_FIN" DSCScale="0" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="DATE" DSCNochildren="false" DSCLength="0" DSCPrecision="0" DSCName="F_MOD" DSCScale="0" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="NUMBER" DSCNochildren="false" DSCLength="0" DSCPrecision="14" DSCName="VAL_POL" DSCScale="2" DSCMandatory="false"/>
         <DataSourceColumn Type="Query" DSCType="VARCHAR2" DSCNochildren="false" DSCLength="10" DSCPrecision="0" DSCName="COD_TIPO" DSCScale="0" DSCMandatory="false"/>
         <Trigger Name="PRE-INSERT" TriggerText="declare &amp;#10;	fechact date;&amp;#10;begin&amp;#10;  select to_char(sysdate,'DD/MM/YYYY') &amp;#10;  into   fechact&amp;#10;  from   dual;&amp;#10;  :contrato_histo.c_emp     := :global.empresa;&amp;#10;  :contrato_histo.n_ide     := :cont_cxp.n_ide;&amp;#10;  :contrato_histo.n_cont    := :cont_cxp.n_cont;&amp;#10;  :contrato_histo.val_adi   := :cont_cxp.monto;&amp;#10;  :contrato_histo.fechamod  := :cont_cxp.f_ven;&amp;#10;  :contrato_histo.est       := :cont_cxp.est;&amp;#10;  :contrato_histo.n_poliza  := :poliza_contr.cod_tipo;&amp;#10;  :contrato_histo.f_inip    := :poliza_contr.f_ini;&amp;#10;  :contrato_histo.f_fin     := :poliza_contr.f_fin;&amp;#10;  :contrato_histo.f_mod     := fechact;&amp;#10;  :contrato_histo.val_pol   := :poliza_contr.monto;&amp;#10;  :contrato_histo.cod_tipo  := :poliza_contr.cod_tipo;&amp;#10;end; " DirtyInfo="true"/>
      </Block>
      <Block Name="TOOLBAR" DirtyInfo="true" SubclassObjectGroup="true">
         <Item Name="NOMBRE_BLOQUE" DirtyInfo="true" SubclassSubObject="true"/>
         <Item Name="NOMBRE_LOGO" DirtyInfo="true" SubclassSubObject="true"/>
         <Item Name="C_EMP" DirtyInfo="true" SubclassSubObject="true"/>
         <Item Name="NOMBRE_EMPRESA1" DirtyInfo="true" SubclassSubObject="true"/>
         <Item Name="NOMBRE_EMPRESA2" DirtyInfo="true" SubclassSubObject="true"/>
         <Item Name="ICONO_EMPRESA" DirtyInfo="true" SubclassSubObject="true"/>
         <Item Name="BOTON_IMPRIMIR" DirtyInfo="true" SubclassSubObject="true">
            <Trigger Name="WHEN-MOUSE-CLICK" DirtyInfo="true" SubclassSubObject="true"/>
         </Item>
         <Item Name="BOTON_SAVE" DirtyInfo="true" SubclassSubObject="true">
            <Trigger Name="WHEN-MOUSE-CLICK" DirtyInfo="true" SubclassSubObject="true"/>
         </Item>
         <Item Name="BOTON_LISTA" DirtyInfo="true" SubclassSubObject="true">
            <Trigger Name="WHEN-MOUSE-CLICK" DirtyInfo="true" SubclassSubObject="true"/>
         </Item>
         <Item Name="BOTON_HELP" DirtyInfo="true" SubclassSubObject="true">
            <Trigger Name="WHEN-MOUSE-CLICK" DirtyInfo="true" SubclassSubObject="true"/>
         </Item>
         <Item Name="EXCEL_SP6" DirtyInfo="true" SubclassSubObject="true">
            <Trigger Name="WHEN-MOUSE-CLICK" DirtyInfo="true" SubclassSubObject="true"/>
         </Item>
         <Item Name="BOTON_EXIT" DirtyInfo="true" SubclassSubObject="true">
            <Trigger Name="WHEN-MOUSE-CLICK" DirtyInfo="true" SubclassSubObject="true"/>
         </Item>
         <Item Name="BOTON_NUEVO" DirtyInfo="true" SubclassSubObject="true">
            <Trigger Name="WHEN-MOUSE-CLICK" DirtyInfo="true" SubclassSubObject="true"/>
         </Item>
         <Item Name="BOTON_BORRAR" DirtyInfo="true" SubclassSubObject="true">
            <Trigger Name="WHEN-MOUSE-CLICK" DirtyInfo="true" SubclassSubObject="true"/>
         </Item>
         <Item Name="BOTON_CLEAR" DirtyInfo="true" SubclassSubObject="true">
            <Trigger Name="WHEN-MOUSE-CLICK" DirtyInfo="true" SubclassSubObject="true"/>
         </Item>
         <Item Name="BOTON_BUSCAR" DirtyInfo="true" SubclassSubObject="true">
            <Trigger Name="WHEN-MOUSE-CLICK" DirtyInfo="true" SubclassSubObject="true"/>
         </Item>
         <Item Name="PRIMERO_SP6" DirtyInfo="true" SubclassSubObject="true">
            <Trigger Name="WHEN-MOUSE-CLICK" DirtyInfo="true" SubclassSubObject="true"/>
         </Item>
         <Item Name="ATRAS_SP6" DirtyInfo="true" SubclassSubObject="true">
            <Trigger Name="WHEN-MOUSE-CLICK" DirtyInfo="true" SubclassSubObject="true"/>
         </Item>
         <Item Name="ADELANTE_SP6" DirtyInfo="true" SubclassSubObject="true">
            <Trigger Name="WHEN-MOUSE-CLICK" DirtyInfo="true" SubclassSubObject="true"/>
         </Item>
         <Item Name="ULTIMO_SP6" DirtyInfo="true" SubclassSubObject="true">
            <Trigger Name="WHEN-MOUSE-CLICK" DirtyInfo="true" SubclassSubObject="true"/>
         </Item>
         <Trigger Name="PRE-BLOCK" DirtyInfo="true" SubclassSubObject="true"/>
      </Block>
      <Canvas Name="PRINCIPAL" ViewportHeight="414" ViewportXPosition="0" DirtyInfo="true" Height="600" WindowName="WINDOW0" ShowHorizontalScrollbar="false" ShowVerticalScrollbar="false" Width="900" ViewportYPosition="0" ViewportWidth="480" VisualAttributeName="DEFAULT">
         <Graphics Name="GRAPHIC164" GraphicsText="ACTUALIZACION POLIZAS DE UN CONTRATO" Height="19" VerticalMargin="14" GraphicsFontSpacing="Normal" GraphicsFontColor="white" ForegroundColor="darkcyan" Width="342" HorizontalJustification="Principio" GraphicsFontSize="1600" GraphicsFontWeight="Negrita" StartPromptOffset="7" FillPattern="none" GraphicsFontColorCode="1" HorizontalObjectOffset="13" DirtyInfo="true" Bevel="Ninguno" XPosition="136" GraphicsFontStyle="0" ScrollbarWidth="13" HorizontalMargin="7" EdgePattern="none" YPosition="2" GraphicsType="Texto" BackColor="white" GraphicsFontName="Arial" JoinStyle="Bisel">
            <CompoundText Name="CMPTXT162">
               <TextSegment Name="TEXTSTR163" FontSize="1600" DirtyInfo="true" FontName="Arial" ForegroundColor="white" FontWeight="Negrita" FontStyle="Normal" Text="ACTUALIZACION POLIZAS DE UN CONTRATO" FontSpacing="Normal"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="RECT6" GraphicsText="" Height="327" InternalLineWidth="113" VerticalMargin="14" GraphicsFontColor="" GraphicsFontSpacing="Muy Denso" ForegroundColor="black" Width="600" InternalRotationAngle="0" GraphicsFontSize="0" GraphicsFontWeight="Muy Clara" StartPromptOffset="5" FillPattern="transparent" GraphicsFontColorCode="0" HorizontalObjectOffset="9" EdgeBackColor="white" CapStyle="Plana" DirtyInfo="true" XPosition="0" Bevel="Ninguno" ScrollbarWidth="9" GraphicsFontStyle="0" HorizontalMargin="5" DashStyle="Sólido" EdgePattern="solid" YPosition="23" GraphicsType="Rectángulo" BackColor="r75g88b100" EdgeForegroundColor="yellow" GraphicsFontName="" JoinStyle="Bisel"/>
         <Graphics Name="GRÁFICA29" GraphicsText="" Height="47" InternalLineWidth="113" VerticalMargin="14" GraphicsFontColor="" GraphicsFontSpacing="Muy Denso" ForegroundColor="darkcyan" Width="455" InternalRotationAngle="0" GraphicsFontSize="0" GraphicsFontWeight="Muy Clara" StartPromptOffset="5" FillPattern="none" GraphicsFontColorCode="0" HorizontalObjectOffset="9" EdgeBackColor="white" CapStyle="Plana" DirtyInfo="true" XPosition="10" Bevel="Ninguno" ScrollbarWidth="9" GraphicsFontStyle="0" HorizontalMargin="5" DashStyle="Sólido" EdgePattern="solid" YPosition="96" GraphicsType="Rectángulo" BackColor="gray" EdgeForegroundColor="gray" GraphicsFontName="" JoinStyle="Inglete"/>
         <Graphics Name="GRÁFICA30" GraphicsText="Fechas" VerticalOrigin="Superior" InternalLineWidth="1" Height="11" VerticalMargin="14" GraphicsFontColor="darkblue" GraphicsFontSpacing="Normal" ForegroundColor="darkcyan" FixedBoundingBox="false" Width="29" InternalRotationAngle="0" HorizontalJustification="Izquierda" GraphicsFontSize="900" GraphicsFontWeight="Negrita" StartPromptOffset="5" CustomSpacing="0" FillPattern="transparent" GraphicsFontColorCode="79" FontScaleable="false" HorizontalObjectOffset="9" EdgeBackColor="white" LineSpacing="Único" WrapText="true" CapStyle="Plana" DirtyInfo="true" XPosition="145" Bevel="Ninguno" ScrollbarWidth="9" GraphicsFontStyle="0" HorizontalMargin="5" BoundingBoxScalable="true" DashStyle="Sólido" EdgePattern="none" YPosition="98" GraphicsType="Texto" BackColor="r75g88b100" VerticalJustification="Superior" EdgeForegroundColor="r25g0b75" GraphicsFontName="Arial" LanguageDirection="Por Defecto" HorizontalOrigin="Izquierda" JoinStyle="Bisel">
            <CompoundText Name="CMPTXT62">
               <TextSegment Name="TEXTSTR63" FontSize="900" DirtyInfo="true" FontName="Arial" ForegroundColor="darkblue" FontWeight="Negrita" FontStyle="Normal" Text="Fechas" FontSpacing="Normal"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="TEXT161" GraphicsText="ACTUALIZACION POLIZAS DE UN CONTRATO" Height="19" VerticalMargin="14" GraphicsFontSpacing="Normal" GraphicsFontColor="darkblue" ForegroundColor="darkcyan" Width="340" HorizontalJustification="Principio" GraphicsFontSize="1600" GraphicsFontWeight="Negrita" StartPromptOffset="7" FillPattern="none" GraphicsFontColorCode="79" HorizontalObjectOffset="13" DirtyInfo="true" Bevel="Ninguno" XPosition="134" GraphicsFontStyle="0" ScrollbarWidth="13" HorizontalMargin="7" EdgePattern="none" YPosition="3" GraphicsType="Texto" BackColor="custom7" GraphicsFontName="Arial" JoinStyle="Bisel">
            <CompoundText Name="CMPTXT162">
               <TextSegment Name="TEXTSTR163" FontSize="1600" DirtyInfo="true" FontName="Arial" ForegroundColor="darkblue" FontWeight="Negrita" FontStyle="Normal" Text="ACTUALIZACION POLIZAS DE UN CONTRATO" FontSpacing="Normal"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="GRAPHIC170" GraphicsText="Plazo" VerticalOrigin="Superior" InternalLineWidth="1" Height="11" VerticalMargin="14" GraphicsFontColor="darkblue" GraphicsFontSpacing="Normal" ForegroundColor="darkcyan" FixedBoundingBox="false" Width="29" InternalRotationAngle="0" HorizontalJustification="Izquierda" GraphicsFontSize="900" GraphicsFontWeight="Negrita" StartPromptOffset="5" CustomSpacing="0" FillPattern="transparent" GraphicsFontColorCode="79" FontScaleable="false" HorizontalObjectOffset="9" EdgeBackColor="white" LineSpacing="Único" WrapText="true" CapStyle="Plana" DirtyInfo="true" XPosition="376" Bevel="Ninguno" ScrollbarWidth="9" GraphicsFontStyle="0" HorizontalMargin="5" BoundingBoxScalable="true" DashStyle="Sólido" EdgePattern="none" YPosition="98" GraphicsType="Texto" BackColor="r75g88b100" VerticalJustification="Superior" EdgeForegroundColor="r25g0b75" GraphicsFontName="Arial" LanguageDirection="Por Defecto" HorizontalOrigin="Izquierda" JoinStyle="Bisel">
            <CompoundText Name="CMPTXT62">
               <TextSegment Name="TEXTSTR63" FontSize="900" DirtyInfo="true" FontName="Arial" ForegroundColor="darkblue" FontWeight="Negrita" FontStyle="Normal" Text="Plazo" FontSpacing="Normal"/>
            </CompoundText>
         </Graphics>
         <Graphics Name="ROUNDRECT187" GraphicsText="" Height="34" InternalLineWidth="1" VerticalMargin="14" GraphicsFontSpacing="Muy Denso" GraphicsFontColor="" ForegroundColor="darkcyan" Width="588" GraphicsFontSize="0" GraphicsFontWeight="Muy Clara" StartPromptOffset="7" FillPattern="none" GraphicsFontColorCode="0" HorizontalObjectOffset="14" DirtyInfo="true" XPosition="8" GraphicsFontStyle="0" ScrollbarWidth="14" HorizontalMargin="7" EdgePattern="solid" YPosition="28" GraphicsType="Rectángulo Redondeado" BackColor="custom7" EdgeForegroundColor="gray" GraphicsFontName="" JoinStyle="Bisel"/>
         <Graphics Name="RECT188" GraphicsText="" Height="196" InternalLineWidth="113" VerticalMargin="14" GraphicsFontSpacing="Muy Denso" GraphicsFontColor="" Width="590" GraphicsFontSize="0" GraphicsFontWeight="Muy Clara" StartPromptOffset="7" FillPattern="none" GraphicsFontColorCode="0" HorizontalObjectOffset="14" EdgeBackColor="white" DirtyInfo="true" XPosition="4" Bevel="Ninguno" GraphicsFontStyle="0" ScrollbarWidth="14" HorizontalMargin="7" EdgePattern="solid" YPosition="150" GraphicsType="Rectángulo" BackColor="r75g88b100" EdgeForegroundColor="gray" GraphicsFontName="" JoinStyle="Bisel"/>
         <Graphics Name="LINE197" GraphicsText="" Height="0" InternalLineWidth="1" VerticalMargin="14" GraphicsFontSpacing="Muy Denso" GraphicsFontColor="" ForegroundColor="darkcyan" Width="137" GraphicsFontSize="0" GraphicsFontWeight="Muy Clara" StartPromptOffset="7" GraphicsFontColorCode="0" HorizontalObjectOffset="14" DirtyInfo="true" Bevel="Ninguno" XPosition="319" GraphicsFontStyle="0" ScrollbarWidth="14" HorizontalMargin="7" EdgePattern="solid" YPosition="109" GraphicsType="Línea" BackColor="custom7" EdgeForegroundColor="darkblue" GraphicsFontName="" JoinStyle="Bisel"/>
         <Graphics Name="LINE198" GraphicsText="" Height="0" InternalLineWidth="1" VerticalMargin="14" GraphicsFontColor="" GraphicsFontSpacing="Muy Denso" ForegroundColor="darkcyan" Width="289" GraphicsFontSize="0" GraphicsFontWeight="Muy Clara" StartPromptOffset="7" FillPattern="none" GraphicsFontColorCode="0" HorizontalObjectOffset="14" EdgeBackColor="white" DirtyInfo="true" XPosition="16" Bevel="Ninguno" GraphicsFontStyle="0" ScrollbarWidth="14" HorizontalMargin="7" EdgePattern="solid" YPosition="109" GraphicsType="Línea" BackColor="r75g88b100" EdgeForegroundColor="darkblue" GraphicsFontName="" JoinStyle="Bisel"/>
      </Canvas>
      <Canvas Name="TOOLBAR" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Canvas Name="TOOLBAR1" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Editor Name="EDITOR" Height="200" XPosition="100" ShowVerticalScrollbar="false" Width="200" YPosition="100" VisualAttributeName="DEFAULT" Title="Editor de Texto"/>
      <LOV Name="CONTRATOS" ParentType="29" RecordGroupName="CONTRATOS" DirtyInfo="true" ParentName="LISTA" ParentModule="CONTR025" Title="Contratos" ParentModuleType="12">
         <LOVColumnMapping Name="N_CONT" DirtyInfo="true" ReturnItem="CONTROL.N_CONT" DisplayWidth="80" Title="Num_Cont"/>
      </LOV>
      <LOV Name="AGENCIA" ParentType="29" RecordGroupName="AGENCIA" DirtyInfo="true" ParentName="LISTA" ParentModule="CONTR025" Title="AGENCIAS" ParentModuleType="12">
         <LOVColumnMapping Name="CÓDIGO" ReturnItem="CONTROL.C_AGR" DisplayWidth="14" Title="Código"/>
         <LOVColumnMapping Name="NOMBRE" ReturnItem="CONTROL.NOMAGE" DisplayWidth="185" Title="Nombre"/>
      </LOV>
      <LOV Name="PROVEED" ParentType="29" RecordGroupName="PROVEED" DirtyInfo="true" ParentName="LISTA" ParentModule="CONTR025" Title="PROVEEDOR" ParentModuleType="12">
         <LOVColumnMapping Name="N_IDE" DirtyInfo="true" ReturnItem="CONTROL.N_IDE" DisplayWidth="90" Title="N_Ide"/>
         <LOVColumnMapping Name="NOM" DirtyInfo="true" ReturnItem="CONTROL.NOMPROV" DisplayWidth="300" Title="Nombre"/>
      </LOV>
      <LOV Name="ASEGURADORES" ParentType="29" RecordGroupName="ASEGURADORES" DirtyInfo="true" ParentName="LISTA" ParentModule="CONTR025" Title="Aseguradores" ParentModuleType="12">
         <LOVColumnMapping Name="N_IDE" DirtyInfo="true" ReturnItem="POLIZA_CONTR.N_IDE_ASEG" DisplayWidth="120" Title="N_Ide"/>
         <LOVColumnMapping Name="NOM" DirtyInfo="true" ReturnItem="POLIZA_CONTR.ENTIDAD" DisplayWidth="300" Title="Nombre"/>
      </LOV>
      <LOV Name="TIPOPOL" ParentType="29" RecordGroupName="TIPOPOL" DirtyInfo="true" ParentName="LISTA" ParentModule="CONTR025" AutoPosition="true" Title="Tipos de Pólizas" ParentModuleType="12">
         <LOVColumnMapping Name="COD_TIPO" DirtyInfo="true" ReturnItem="POLIZA_CONTR.COD_TIPO" DisplayWidth="65" Title="Tipo"/>
         <LOVColumnMapping Name="DESCRIPCION" DirtyInfo="true" ReturnItem="POLIZA_CONTR.TIPO_POL" DisplayWidth="230" Title="Descripción"/>
      </LOV>
      <ProgramUnit Name="BORRAR" ProgramUnitType="Procedimiento" ProgramUnitText="PROCEDURE borrar IS&amp;#10;res number;&amp;#10;BEGIN&amp;#10;  Res := Preguntar('Desea Eliminar Este Registro?');&amp;#10;  If Res = 1 Then&amp;#10;  	GO_BLOCK(:TOOLBAR.NOMBRE_BLOQUE);	    &amp;#10;    Delete_record;&amp;#10;  End If;&amp;#10;END;"/>
      <ProgramUnit Name="BUSCAR" ProgramUnitType="Procedimiento" ProgramUnitText="PROCEDURE buscar IS&amp;#10;BEGIN&amp;#10;   GO_BLOCK('cont_cxp');&amp;#10;   CLEAR_BLOCK(NO_VALIDATE);&amp;#10;   execute_query(all_Records);&amp;#10;END;"/>
      <ProgramUnit Name="GRABAR" ProgramUnitType="Procedimiento" ProgramUnitText="PROCEDURE grabar IS&amp;#10;Res         Number;&amp;#10;Cerr        Number;&amp;#10;Merr        Varchar2(2000);&amp;#10;ErrorFound  Exception;&amp;#10;resp        number;&amp;#10;cuenta      number;&amp;#10;fechafin    date  := null;&amp;#10;fechaini    date  := null;&amp;#10;numpol      poliza_contr.n_poliza%type;&amp;#10;Begin&amp;#10;   &amp;#10;  &amp;#10;  Post;&amp;#10;  If Form_success Then&amp;#10; 		  Begin&amp;#10;		  	select count(*)&amp;#10;		  	into cuenta&amp;#10;		  	from poliza_contr&amp;#10;		  	where c_emp = :global.empresa&amp;#10;		  	  and n_cont = :cont_cxp.n_cont;&amp;#10;		  exception when no_data_found then&amp;#10;		  	cuenta := 0;&amp;#10;		  end;&amp;#10;	    If cuenta = 0 then&amp;#10;	    	messagebox('El contrato no tiene pólizas registradas. Verifique');&amp;#10;    	  resp := preguntar('Desea Salvar los cambios aún sin pólizas? (S/N)');&amp;#10;       	If resp = 0 then&amp;#10;		        go_item('POLIZA_CONTR.COD_TIPO');&amp;#10;		    	raise form_trigger_failure;&amp;#10;       	End If;       	&amp;#10; 	      Messagebox('Se ha actualizado el CONTRATO '||:cont_cxp.n_cont);      	&amp;#10;--        raise Errorfound;&amp;#10;	    Else&amp;#10;		    Begin&amp;#10;			  	select min(f_fin), min(f_ini), min(n_poliza)&amp;#10;			  	into fechafin, fechaini, numpol&amp;#10;			  	from poliza_contr&amp;#10;			  	where c_emp = :global.empresa&amp;#10;			  	  and n_cont = :cont_cxp.n_cont;&amp;#10;			  exception when no_data_found then&amp;#10;			  	fechaini := null;&amp;#10;			  	fechafin := null;&amp;#10;		    End;&amp;#10;		    If numpol is null then&amp;#10;		    	messagebox('Existen pólizas sin número especificado verifique');&amp;#10;		    	Raise Form_Trigger_Failure;&amp;#10;		    End If;&amp;#10;		    If fechaini is null or fechafin is null Then&amp;#10;		    	MessageBox('Existen Pólizas sin Fechas suministradas');&amp;#10;					go_item('poliza_contr.cod_tipo');  &amp;#10;		    	Raise Form_Trigger_Failure;&amp;#10;		    End If;&amp;#10;     End If;&amp;#10;    llenar_historico;	&amp;#10;    Commit_Form;&amp;#10;    messagebox('Datos actualizados exitosamente');&amp;#10;    res := preguntar('Desea imprimir la Resolución de Aprobación?');&amp;#10;    If res = 1 then&amp;#10;      imprimir;&amp;#10;   	End If;&amp;#10;    Limpiar;&amp;#10;  End If;&amp;#10;Exception&amp;#10;  When ErrorFound Then&amp;#10;    Rollback;&amp;#10;    go_item('POLIZAS.COD_TIPO');&amp;#10;    Raise Form_Trigger_Failure;&amp;#10;END;&amp;#10;"/>
      <ProgramUnit Name="IMPRIMIR" ProgramUnitType="Procedimiento" ProgramUnitText="PROCEDURE IMPRIMIR IS&amp;#10;  reporte   Varchar2(100);&amp;#10;  pl_id     ParamList; &amp;#10;BEGIN&amp;#10;  reporte := 'Contr051.rep';&amp;#10;  pl_id := Get_Parameter_List ('tmpdata'); &amp;#10;  IF NOT Id_Null(pl_id) THEN &amp;#10;    Destroy_Parameter_List( pl_id ); &amp;#10;  END IF; &amp;#10;  pl_id  := Create_Parameter_List('tmpdata'); &amp;#10;  Add_Parameter (pl_id, 'C_EMP', TEXT_PARAMETER, :GLOBAL.empresa);&amp;#10;  Add_Parameter (pl_id, 'N_CONTR', TEXT_PARAMETER, :cont_cxp.n_cont);&amp;#10;  Add_Parameter (pl_id, 'USR', TEXT_PARAMETER, :GLOBAL.Usuario_SP6); &amp;#10;  Run_Product (REPORTS, reporte , ASYNCHRONOUS, RUNTIME, &amp;#10;               FILESYSTEM, pl_id, NULL); &amp;#10;END;"/>
      <ProgramUnit Name="INICIO" ProgramUnitType="Procedimiento" ProgramUnitText="PROCEDURE INICIO IS&amp;#10;Begin&amp;#10;	:Global.Fechasel := null;&amp;#10;	:Global.monto := null;&amp;#10;  Execute_Trigger ('INIT');&amp;#10; &amp;#10;  begin&amp;#10;	  select c_Age, nom&amp;#10;	    into :control.c_Agr, :control.nomage&amp;#10;	    from agencia&amp;#10;	   where c_Emp = :global.empresa;&amp;#10;  exception&amp;#10;    when no_Data_found then&amp;#10;      messagebox('No se han definido las Agencias');&amp;#10;      raise form_trigger_failure;&amp;#10;    when too_many_rows then&amp;#10;      null;   	          &amp;#10;  end; 	&amp;#10;End;&amp;#10;"/>
      <ProgramUnit Name="LIMPIAR" ProgramUnitType="Procedimiento" ProgramUnitText="PROCEDURE limpiar IS&amp;#10;res number;&amp;#10;BEGIN&amp;#10;  Res := 1;&amp;#10;--  messagebox(:system.form_status||' '||:system.block_status);&amp;#10;  If (:System.form_status = 'CHANGED' Or :System.form_status = 'NEW') Then&amp;#10;    Res := Preguntar ('La Forma Tiene Datos Sin Grabar. Desea Blanquear?');&amp;#10;  End If;&amp;#10;  If (Res = 1) Then&amp;#10;    Clear_Form (No_Validate);&amp;#10;    Inicio;&amp;#10;  End If;&amp;#10;END;"/>
      <ProgramUnit Name="LISTA" ProgramUnitType="Procedimiento" ProgramUnitText="PROCEDURE lista IS&amp;#10;BEGIN&amp;#10;  List_values;&amp;#10;END;"/>
      <ProgramUnit Name="NUEVO" ProgramUnitType="Procedimiento" ProgramUnitText="PROCEDURE nuevo IS&amp;#10;BEGIN&amp;#10;	GO_BLOCK(:TOOLBAR.NOMBRE_BLOQUE);	    &amp;#10;  Create_record;&amp;#10;END;"/>
      <ProgramUnit Name="SALIR" ProgramUnitType="Procedimiento" ProgramUnitText="PROCEDURE salir IS&amp;#10;res number;&amp;#10;BEGIN&amp;#10;  Res := 0;&amp;#10;  If (:System.form_status = 'CHANGED') Then&amp;#10;    Res := Preguntar ('La Forma Tiene Datos Sin Grabar. Desea Almacenarlos Ahora?');&amp;#10;  End If;&amp;#10;  If (Res = 1) Then&amp;#10;    Grabar;&amp;#10;  End If;&amp;#10;  Exit_form(no_validate);&amp;#10;END;"/>
      <ProgramUnit Name="ACTUALIZA_FECHAS" ProgramUnitType="Procedimiento" ProgramUnitText="PROCEDURE actualiza_fechas IS&amp;#10;  monto   number := 0;&amp;#10; 	wfecha  varchar2(8);&amp;#10;&amp;#10;BEGIN&amp;#10;	 IF :poliza_contr.f_ini IS NULL THEN  &amp;#10;	 	  if :cont_cxp.f_ini is null then &amp;#10;		    :poliza_contr.f_ini   := :cont_cxp.f_firma; &amp;#10;	 	  else&amp;#10;	 	  	 :poliza_contr.f_ini   := :cont_cxp.f_ini;&amp;#10;	 	  end if;&amp;#10;	 END IF;&amp;#10;   IF :poliza_contr.f_aprob  IS NULL THEN   	 &amp;#10;		  :poliza_contr.f_aprob := sysdate;&amp;#10;   END IF;  &amp;#10;	 IF :poliza_contr.f_fin  IS NULL THEN  &amp;#10;--		Actualiza la fecha final de acuerdo al número de años, meses, días definidas &amp;#10;      If :cont_cxp.f_ven is not null then&amp;#10;				If :POLIZA_CONTR.dias > 0 then&amp;#10;				 	:poliza_contr.f_fin := :cont_cxp.f_ven + :POLIZA_CONTR.dias;&amp;#10;				End If;&amp;#10;				If  :POLIZA_CONTR.mes > 0 then&amp;#10;					  :poliza_contr.f_fin := add_months(:cont_cxp.f_ven , :POLIZA_CONTR.mes);&amp;#10;				End If;&amp;#10;	      If :POLIZA_CONTR.ano > 0 then&amp;#10;	      	Begin&amp;#10;		      	select to_char(to_number(to_char(:cont_cxp.f_ven ,'YYYY')) + :POLIZA_CONTR.ano)||&amp;#10;		               to_char(:cont_cxp.f_ven ,'mmdd') &amp;#10;		        Into wfecha&amp;#10;		        from dual;      	&amp;#10;		        Exception When Others then messagebox(sqlerrm);&amp;#10;		      End;&amp;#10;		      :poliza_contr.F_fin := to_date(wfecha,'YYYYMMDD');  &amp;#10;      	End If;&amp;#10;      End If;  &amp;#10;   End If;  &amp;#10;&amp;#10;&amp;#10;	&amp;#10;--    Aplica el porcentaje sobre el monto de acuerdo a la póliza seleccionada.&amp;#10;      if :cont_cxp.monto = 0 and :cont_cxp.otrosi = 'S' then&amp;#10;      	Begin &amp;#10;      	  select monto&amp;#10;      	    into monto&amp;#10;            from cont_cxp a&amp;#10;           where c_emp  = :global.empresa&amp;#10;             And n_cont = :cont_cxp.n_cont_ref&amp;#10;             And est    = 'A';&amp;#10;      	Exception&amp;#10;      		when no_data_found then&amp;#10;      		  monto := 0;&amp;#10;      		when others then&amp;#10;      		  monto := 0;&amp;#10;      	end;&amp;#10;			  If :POLIZA_CONTR.porcen > 0 then&amp;#10;				  :poliza_contr.monto := monto * :POLIZA_CONTR.porcen / 100;&amp;#10;			  End If;&amp;#10;      else&amp;#10;  			If :POLIZA_CONTR.porcen > 0 then&amp;#10;	  			:poliza_contr.monto := :cont_cxp.monto * :POLIZA_CONTR.porcen / 100;&amp;#10;  			End If;&amp;#10;  	  End if;&amp;#10;END;"/>
      <ProgramUnit Name="REVISAREQ" ProgramUnitType="Procedimiento" ProgramUnitText="PROCEDURE revisareq IS&amp;#10;Res         Number;&amp;#10;Cerr        Number;&amp;#10;Merr        Varchar2(200);&amp;#10;ErrorFound  Exception;&amp;#10;Obliga      Varchar2(1);&amp;#10;opcional    greq_det.opcional%type;&amp;#10;wgrup       greq_enc.cod_greq%type;&amp;#10;wreq        greq_det.cod_req%type;&amp;#10;cumplido    proc_sel_req.cumple%type;&amp;#10;nomreq      greq_det.nom%type;&amp;#10;cuenta      number := 0;&amp;#10;&amp;#10;cursor requisitos_cur is&amp;#10; select distinct cod_greq&amp;#10;   from Cont_cxp_req&amp;#10;  where c_emp = :global.empresa&amp;#10;    and n_cont = :cont_cxp.n_cont&amp;#10;    And tipo_proc='E';&amp;#10;&amp;#10;cursor requisdet_cur is&amp;#10; select cod_req&amp;#10;   from Cont_cxp_req&amp;#10;  where c_emp = :global.empresa&amp;#10;    and N_cont   = :Cont_cxp.N_cont&amp;#10;    and Tipo_proc = 'E'&amp;#10;    and cod_greq  = wgrup;&amp;#10;&amp;#10;cursor reqenc_cur is&amp;#10; select nvl(obliga,'N')&amp;#10;   from greq_enc&amp;#10;  where c_emp = :global.empresa&amp;#10;    and cod_greq = wgrup;&amp;#10;&amp;#10;cursor reqdet_cur is&amp;#10; select nvl(opcional,'N')&amp;#10;   from greq_det&amp;#10;  where c_emp = :global.empresa&amp;#10;    and cod_greq = wgrup&amp;#10;    and cod_req  = wreq;&amp;#10;&amp;#10;Begin&amp;#10;		cuenta := 0;&amp;#10;			For vc0 in requisitos_cur loop&amp;#10;					wgrup := vc0.cod_greq;&amp;#10;		 	    begin&amp;#10;					 select nvl(obliga,'N')&amp;#10;					   Into obliga&amp;#10;					   from greq_enc&amp;#10;					  where c_emp = :global.empresa&amp;#10;					    and cod_greq = wgrup;&amp;#10;		 	    Exception when no_data_found then&amp;#10;		 	    	obliga := 'N';&amp;#10;				  end;&amp;#10;				  If Obliga = 'S' then&amp;#10;				     begin&amp;#10;				  	  for vc1 in requisdet_cur loop&amp;#10;				  	  	if vc1.cod_req is not null then&amp;#10;				  	  		wreq := vc1.cod_req;&amp;#10;									begin&amp;#10;									 select nvl(opcional,'N')&amp;#10;									   into opcional&amp;#10;									   from greq_det&amp;#10;									  where c_emp = :global.empresa&amp;#10;									    and cod_greq = wgrup&amp;#10;									    and cod_req  = wreq;&amp;#10;									exception when no_data_found then&amp;#10;										opcional := 'N';&amp;#10;									end;&amp;#10;	   						  If opcional ='S' then&amp;#10;		   						    begin&amp;#10;		   						  	  select cumple,nom	&amp;#10;		   						  	  into cumplido, nomreq&amp;#10;		   						  	  from cont_cxp_req a, greq_det b&amp;#10;		   						  	  where a.c_emp = :global.empresa&amp;#10;		   						  	    and a.n_cont   = :cont_cxp.n_cont&amp;#10;		   						  	    and a.tipo_proc= 'E'&amp;#10;		   						  	    and a.cod_greq = wgrup&amp;#10;		   						  	    and a.cod_req  = wreq&amp;#10;		   						  	    and b.c_emp    = a.c_emp&amp;#10;		   						  	    and b.cod_greq = a.cod_greq&amp;#10;		   						  	    and b.cod_req  = a.cod_req;&amp;#10;		   						    exception when no_data_found then&amp;#10;		   						    	message('Requisito no encontrado. Verifique '||nomreq);&amp;#10;		   						    	raise form_trigger_failure;&amp;#10;		   						    end;&amp;#10;		   						    If cumplido = 'N' then&amp;#10;		   						    	messagebox('Requisito aún no cumplido. Verifique '||nomreq);&amp;#10;		   						    	raise form_trigger_failure;&amp;#10;		   						    	cuenta := cuenta + 1;&amp;#10;		   						    end if;&amp;#10;		 						  End If;&amp;#10;				  	  	end if;&amp;#10;				  	  end loop;&amp;#10;				     end;&amp;#10;		      end if;&amp;#10;			end loop;&amp;#10;		      If cuenta > 0 then&amp;#10;		      	messagebox('Requisitos no cumplidos ');&amp;#10;		      	raise form_trigger_failure;&amp;#10;		      end if;&amp;#10;	&amp;#10;Exception&amp;#10;  When ErrorFound Then&amp;#10;       Raise Form_Trigger_Failure;&amp;#10;		  &amp;#10;END;"/>
      <ProgramUnit Name="LLENAR_HISTORICO" ProgramUnitType="Procedimiento" ProgramUnitText="PROCEDURE llenar_historico IS&amp;#10;fecha date;&amp;#10;BEGIN&amp;#10;	select to_date (to_char(sysdate,'DD/MM/YYYY'),'DD/MM/YYYY')&amp;#10;  into   fecha&amp;#10;  from   dual;        &amp;#10;  begin&amp;#10;    insert into contrato_histo(C_EMP,N_IDE,N_CONT,&amp;#10;                               VAL_ADI,FECHAMOD,OBJETO,&amp;#10;                               EST,N_POLIZA,F_INIP,F_FIN,&amp;#10;                               F_MOD,VAL_POL,COD_TIPO)&amp;#10;   values(:global.empresa,:cont_cxp.n_ide,:cont_cxp.n_cont,&amp;#10;          :cont_cxp.monto,	NULL, NULL,&amp;#10;          NULL, :poliza_contr.n_poliza,:poliza_contr.f_ini,:poliza_contr.f_fin,&amp;#10;          fecha,:poliza_contr.monto,:poliza_contr.cod_tipo);&amp;#10;  exception&amp;#10;  	when dup_val_on_index then &amp;#10;  	messagebox('Ya existe un Dato Historico de este Contrato');&amp;#10;  	raise form_trigger_failure;&amp;#10;  	when others then&amp;#10;  	messagebox ('Error al Grabar el historico del Contrato. '||sqlerrm);&amp;#10;  	raise form_trigger_failure;&amp;#10;  end;  &amp;#10;END;"/>
      <ProgramUnit Name="CHECK_PACKAGE_FAILURE" ProgramUnitType="Procedimiento" ProgramUnitText="Procedure Check_Package_Failure IS&amp;#10;BEGIN&amp;#10;  IF NOT ( Form_Success ) THEN&amp;#10;    RAISE Form_Trigger_Failure;&amp;#10;  END IF;&amp;#10;END;"/>
      <ProgramUnit Name="QUERY_MASTER_DETAILS" ProgramUnitType="Procedimiento" ProgramUnitText="PROCEDURE Query_Master_Details(rel_id Relation,detail VARCHAR2) IS&amp;#10;  oldmsg VARCHAR2(2);  -- Old Message Level Setting&amp;#10;  reldef VARCHAR2(5);  -- Relation Deferred Setting&amp;#10;BEGIN&amp;#10;  --&amp;#10;  -- Initialize Local Variable(s)&amp;#10;  --&amp;#10;  reldef := Get_Relation_Property(rel_id, DEFERRED_COORDINATION);&amp;#10;  oldmsg := :System.Message_Level;&amp;#10;  --&amp;#10;  -- If NOT Deferred, Goto detail and execute the query.&amp;#10;  --&amp;#10;  IF reldef = 'FALSE' THEN&amp;#10;    Go_Block(detail);&amp;#10;    Check_Package_Failure;&amp;#10;    :System.Message_Level := '10';&amp;#10;    Execute_Query;&amp;#10;    :System.Message_Level := oldmsg;&amp;#10;  ELSE&amp;#10;    --&amp;#10;    -- Relation is deferred, mark the detail block as un-coordinated&amp;#10;    --&amp;#10;    Set_Block_Property(detail, COORDINATION_STATUS, NON_COORDINATED);&amp;#10;  END IF;&amp;#10;&amp;#10;EXCEPTION&amp;#10;    WHEN Form_Trigger_Failure THEN&amp;#10;      :System.Message_Level := oldmsg;&amp;#10;      RAISE;&amp;#10;END Query_Master_Details;&amp;#10;"/>
      <ProgramUnit Name="CLEAR_ALL_MASTER_DETAILS" ProgramUnitType="Procedimiento" ProgramUnitText="PROCEDURE Clear_All_Master_Details IS&amp;#10;  mastblk  VARCHAR2(30);  -- Initial Master Block Causing Coord&amp;#10;  coordop  VARCHAR2(30);  -- Operation Causing the Coord&amp;#10;  trigblk  VARCHAR2(30);  -- Cur Block On-Clear-Details Fires On&amp;#10;  startitm VARCHAR2(61);  -- Item in which cursor started&amp;#10;  frmstat  VARCHAR2(15);  -- Form Status&amp;#10;  curblk   VARCHAR2(30);  -- Current Block&amp;#10;  currel   VARCHAR2(30);  -- Current Relation&amp;#10;  curdtl   VARCHAR2(30);  -- Current Detail Block&amp;#10;&amp;#10;  FUNCTION First_Changed_Block_Below(Master VARCHAR2)&amp;#10;  RETURN VARCHAR2 IS&amp;#10;    curblk VARCHAR2(30);  -- Current Block&amp;#10;    currel VARCHAR2(30);  -- Current Relation&amp;#10;    retblk VARCHAR2(30);  -- Return Block&amp;#10;  BEGIN&amp;#10;    --&amp;#10;    -- Initialize Local Vars&amp;#10;    --&amp;#10;    curblk := Master;&amp;#10;    currel := Get_Block_Property(curblk,  FIRST_MASTER_RELATION);&amp;#10;    --&amp;#10;    -- While there exists another relation for this block&amp;#10;    --&amp;#10;    WHILE currel IS NOT NULL LOOP&amp;#10;      --&amp;#10;      -- Get the name of the detail block&amp;#10;      --&amp;#10;      curblk := Get_Relation_Property(currel, DETAIL_NAME);&amp;#10;      --&amp;#10;      -- If this block has changes, return its name&amp;#10;      --&amp;#10;      IF ( Get_Block_Property(curblk, STATUS) = 'CHANGED' ) THEN&amp;#10;        RETURN curblk;&amp;#10;      ELSE&amp;#10;        --&amp;#10;        -- No changes, recursively look for changed blocks below&amp;#10;        --&amp;#10;        retblk := First_Changed_Block_Below(curblk);&amp;#10;        --&amp;#10;        -- If some block below is changed, return its name&amp;#10;        --&amp;#10;        IF retblk IS NOT NULL THEN&amp;#10;          RETURN retblk;&amp;#10;        ELSE&amp;#10;          --&amp;#10;          -- Consider the next relation&amp;#10;          --&amp;#10;          currel := Get_Relation_Property(currel, NEXT_MASTER_RELATION);&amp;#10;        END IF;&amp;#10;      END IF;&amp;#10;    END LOOP;&amp;#10;&amp;#10;    --&amp;#10;    -- No changed blocks were found&amp;#10;    --&amp;#10;    RETURN NULL;&amp;#10;  END First_Changed_Block_Below;&amp;#10;&amp;#10;BEGIN&amp;#10;  --&amp;#10;  -- Init Local Vars&amp;#10;  --&amp;#10;  mastblk  := :System.Master_Block;&amp;#10;  coordop  := :System.Coordination_Operation;&amp;#10;  trigblk  := :System.Trigger_Block;&amp;#10;  startitm := :System.Cursor_Item;&amp;#10;  frmstat  := :System.Form_Status;&amp;#10;&amp;#10;  --&amp;#10;  -- If the coordination operation is anything but CLEAR_RECORD or&amp;#10;  -- SYNCHRONIZE_BLOCKS, then continue checking.&amp;#10;  --&amp;#10;  IF coordop NOT IN ('CLEAR_RECORD', 'SYNCHRONIZE_BLOCKS') THEN&amp;#10;    --&amp;#10;    -- If we're processing the driving master block...&amp;#10;    --&amp;#10;    IF mastblk = trigblk THEN&amp;#10;      --&amp;#10;      -- If something in the form is changed, find the&amp;#10;      -- first changed block below the master&amp;#10;      --&amp;#10;      IF frmstat = 'CHANGED' THEN&amp;#10;        curblk := First_Changed_Block_Below(mastblk);&amp;#10;        --&amp;#10;        -- If we find a changed block below, go there&amp;#10;        -- and Ask to commit the changes.&amp;#10;        --&amp;#10;        IF curblk IS NOT NULL THEN&amp;#10;          Go_Block(curblk);&amp;#10;          Check_Package_Failure;&amp;#10;          Clear_Block(ASK_COMMIT);&amp;#10;          --&amp;#10;          -- If user cancels commit dialog, raise error&amp;#10;          --&amp;#10;          IF NOT ( :System.Form_Status = 'QUERY'&amp;#10;                   OR :System.Block_Status = 'NEW' ) THEN&amp;#10;            RAISE Form_Trigger_Failure;&amp;#10;          END IF;&amp;#10;        END IF;&amp;#10;      END IF;&amp;#10;    END IF;&amp;#10;  END IF;&amp;#10;&amp;#10;  --&amp;#10;  -- Clear all the detail blocks for this master without&amp;#10;  -- any further asking to commit.&amp;#10;  --&amp;#10;  currel := Get_Block_Property(trigblk, FIRST_MASTER_RELATION);&amp;#10;  WHILE currel IS NOT NULL LOOP&amp;#10;    curdtl := Get_Relation_Property(currel, DETAIL_NAME);&amp;#10;    IF Get_Block_Property(curdtl, STATUS) &lt;> 'NEW'  THEN&amp;#10;      Go_Block(curdtl);&amp;#10;      Check_Package_Failure;&amp;#10;      Clear_Block(NO_VALIDATE);&amp;#10;      IF :System.Block_Status &lt;> 'NEW' THEN&amp;#10;        RAISE Form_Trigger_Failure;&amp;#10;      END IF;&amp;#10;    END IF;&amp;#10;    currel := Get_Relation_Property(currel, NEXT_MASTER_RELATION);&amp;#10;  END LOOP;&amp;#10;&amp;#10;  --&amp;#10;  -- Put cursor back where it started&amp;#10;  --&amp;#10;  IF :System.Cursor_Item &lt;> startitm THEN&amp;#10;    Go_Item(startitm);&amp;#10;    Check_Package_Failure;&amp;#10;  END IF;&amp;#10;&amp;#10;EXCEPTION&amp;#10;  WHEN Form_Trigger_Failure THEN&amp;#10;    IF :System.Cursor_Item &lt;> startitm THEN&amp;#10;      Go_Item(startitm);&amp;#10;    END IF;&amp;#10;    RAISE;&amp;#10;&amp;#10;END Clear_All_Master_Details;&amp;#10;"/>
      <PropertyClass Name="CHECK" DirtyInfo="true" SubclassObjectGroup="true"/>
      <PropertyClass Name="LISTA" DirtyInfo="true" SubclassObjectGroup="true"/>
      <PropertyClass Name="ITEM_INFO" DirtyInfo="true" SubclassObjectGroup="true"/>
      <PropertyClass Name="ITEM_NORMAL" DirtyInfo="true" SubclassObjectGroup="true"/>
      <RecordGroup Name="CONTRATOS" DirtyInfo="true" RecordGroupType="Consulta" RecordGroupQuery="Select a.n_cont &amp;#10;  From cont_cxp a&amp;#10; Where a.c_emp = :global.empresa &amp;#10;   And a.n_ide  LIKE NVL(:control.n_ide,'%') &amp;#10;   And a.est = 'A'&amp;#10; &amp;#10;ORDER BY 1 DESC ">
         <RecordGroupColumn Name="N_CONT" DirtyInfo="true" MaximumLength="16" ColumnDataType="Character"/>
      </RecordGroup>
      <RecordGroup Name="AGENCIA" DirtyInfo="true" RecordGroupType="Consulta" RecordGroupQuery="select c_age código, nom nombre from agencia where c_emp = :global.empresa">
         <RecordGroupColumn Name="CÓDIGO" DirtyInfo="true" MaximumLength="2" ColumnDataType="Character"/>
         <RecordGroupColumn Name="NOMBRE" DirtyInfo="true" MaximumLength="200" ColumnDataType="Character"/>
      </RecordGroup>
      <RecordGroup Name="PROVEED" DirtyInfo="true" RecordGroupType="Consulta" RecordGroupQuery="select distinct a.n_ide, b.nom &amp;#10;from cont_cxp a, nits b &amp;#10;where a.c_emp = b.c_emp  &amp;#10;   and a.n_ide = b.n_ide &amp;#10;   and a.c_emp = :global.empresa &amp;#10;   and a.c_agr = :control.c_agr &amp;#10;order by b.nom">
         <RecordGroupColumn Name="N_IDE" DirtyInfo="true" MaximumLength="20" ColumnDataType="Character"/>
         <RecordGroupColumn Name="NOM" DirtyInfo="true" MaximumLength="60" ColumnDataType="Character"/>
      </RecordGroup>
      <RecordGroup Name="ASEGURADORES" DirtyInfo="true" RecordGroupType="Consulta" RecordGroupQuery="select n.n_ide, n.nom &amp;#10;from  nits n &amp;#10;where  n.c_emp = :global.empresa  &amp;#10;order by 2">
         <RecordGroupColumn Name="N_IDE" DirtyInfo="true" MaximumLength="20" ColumnDataType="Character"/>
         <RecordGroupColumn Name="NOM" DirtyInfo="true" MaximumLength="60" ColumnDataType="Character"/>
      </RecordGroup>
      <RecordGroup Name="TIPOPOL" DirtyInfo="true" RecordGroupType="Consulta" RecordGroupQuery="select cod_tipo,descripcion&amp;#10;from tipo_poliza&amp;#10;where c_emp = :global.empresa&amp;#10;ORDER BY 1 ">
         <RecordGroupColumn Name="COD_TIPO" DirtyInfo="true" MaximumLength="10" ColumnDataType="Character"/>
         <RecordGroupColumn Name="DESCRIPCION" DirtyInfo="true" MaximumLength="50" ColumnDataType="Character"/>
      </RecordGroup>
      <Trigger Name="WHEN_NEW" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="LEE_IMAGENES" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="WHEN-WINDOW-RESIZED" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="INIT" TriggerText="Declare&amp;#10;  Empresa     	Parametros.Emp%Type;&amp;#10;  LogoPath			Varchar2 (200);  &amp;#10;Begin&amp;#10;  --&amp;#10;  -- Maximiza la ventana inicial&amp;#10;  --&amp;#10;  :SYSTEM.MESSAGE_LEVEL:=20;&amp;#10;  Set_Window_Property ('WINDOW0', Window_State, Maximize);&amp;#10;  --&amp;#10;  -- Selecciona el nombre de la empresa&amp;#10;  --&amp;#10; --  :GLOBAL.empresa := '01';&amp;#10; --  :GLOBAL.usuario_sp6 := 'ADMIN'; &amp;#10;  :TOOLBAR.c_emp  := :GLOBAL.empresa;&amp;#10;    Begin&amp;#10;    Select Emp, logo Into Empresa, :toolbar.nombre_logo&amp;#10;      From Parametros&amp;#10;      Where C_Emp = :TOOLBAR.c_emp;&amp;#10;  Exception&amp;#10;    When no_data_found Then&amp;#10;      --&amp;#10;      -- Si la empresa no está definida se sale de la forma&amp;#10;      --&amp;#10;      MessageBox ('Empresa '||:TOOLBAR.c_emp||' no está definida.');&amp;#10;      Exit_Form (No_Validate);     &amp;#10;  End;&amp;#10;  --&amp;#10;  -- Despliega el nombre de la empresa en una o dos líneas&amp;#10;  -- dependiendo de la longitud del nombre&amp;#10;  --&amp;#10;  :Toolbar.Nombre_Empresa1 := Empresa;&amp;#10;  :Toolbar.Nombre_Empresa2 := Empresa;&amp;#10;  If (NVL(Length (:Toolbar.Nombre_Empresa1), 0) > 30) Then&amp;#10;    Set_Item_Property ('Toolbar.Nombre_Empresa2', Displayed, Property_True);&amp;#10;    Set_Item_Property ('Toolbar.Nombre_Empresa1', Displayed, Property_False);&amp;#10;  Else&amp;#10;    Set_Item_Property ('Toolbar.Nombre_Empresa2', Displayed, property_False);&amp;#10;    Set_Item_Property ('Toolbar.Nombre_Empresa1', Displayed, property_True);&amp;#10;  End If;&amp;#10;  --&amp;#10;  -- Despliega el logo de la empresa&amp;#10;  --&amp;#10;  execute_trigger('lee_imagenes');&amp;#10;&amp;#10;  --&amp;#10;  -- Llama al procedimiento de inicio particular de cada forma&amp;#10;  --&amp;#10;  Default_Value ('***', 'global.audsid'); &amp;#10;  Begin&amp;#10;  	Select machine Into Empresa&amp;#10;      From v$usr_sess&amp;#10;      Where audsid = :Global.audsid;&amp;#10;  Exception&amp;#10;    When others Then&amp;#10;      --Exit_Form (No_Validate);            &amp;#10;      NULL;&amp;#10;  End;&amp;#10;End;" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="WHEN-MOUSE-ENTER" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="WHEN-MOUSE-LEAVE" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="WHEN-MOUSE-DOUBLECLICK" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="ON-ERROR" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="ON-MESSAGE" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="KEY-NXTBLK" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="KEY-PRVBLK" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="KEY-NEXT-ITEM" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="KEY-PREV-ITEM" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="KEY-OTHERS" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="KEY-UP" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="KEY-DOWN" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="KEY-EXIT" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="KEY-LISTVAL" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="KEY-CLRFRM" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="KEY-COMMIT" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="KEY-EDIT" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="GRABAR" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="SALIR" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="LIMPIAR" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="IMPRIMIR" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="BORRAR" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="NUEVO" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="LISTA" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="BUSCAR" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="ACERCA_DE" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="WHEN-NEW-FORM-INSTANCE" DirtyInfo="true" SubclassObjectGroup="true"/>
      <Trigger Name="ON-CLEAR-DETAILS" TriggerText="--&amp;#10;-- Begin default relation program section&amp;#10;--&amp;#10;BEGIN&amp;#10;  Clear_All_Master_Details;&amp;#10;END;&amp;#10;--&amp;#10;-- End default relation program section&amp;#10;--&amp;#10;" DirtyInfo="true"/>
      <VisualAttribute Name="CURR_RECORD" SubclassObjectGroup="true"/>
      <VisualAttribute Name="HILIGTH" DirtyInfo="true" SubclassObjectGroup="true"/>
      <VisualAttribute Name="NORMAL" DirtyInfo="true" SubclassObjectGroup="true"/>
      <VisualAttribute Name="ETIQUETA" DirtyInfo="true" SubclassObjectGroup="true"/>
      <VisualAttribute Name="LISTA" DirtyInfo="true" SubclassObjectGroup="true"/>
      <VisualAttribute Name="LISTA1" FontSize="900" BackColor="gray36" DirtyInfo="true" FontName="Century Gothic" ForegroundColor="white" FontStyle="Normal"/>
      <Window Name="WINDOW0" MinimizeAllowed="true" Height="600" DirtyInfo="true" Bevel="Resaltado" Width="900" HorizontalToolbarCanvasName="" PrimaryCanvas="PRINCIPAL" Title="Contratos" VisualAttributeName="DEFAULT" ClearAllowed="true" ShowHorizontalScrollbar="false" MaximizeAllowed="true" MinimizeTitle="Administración De Promociones." ShowVerticalScrollbar="false" ResizeAllowed="true" MoveAllowed="true"/>
      <ObjectGroup Name="LLEVAME_COMO_SUBCLASE" ParentType="23" DirtyInfo="true" ParentName="LLEVAME_COMO_SUBCLASE" ParentModule="REFER_SP6" ParentFilename="Refer_SP6.fmb" ParentModuleType="12">
         <ObjectGroupChild Name="WHEN_NEW" SubclassSubObject="true"/>
         <ObjectGroupChild Name="TOOLBAR1" SubclassSubObject="true"/>
         <ObjectGroupChild Name="LEE_IMAGENES" SubclassSubObject="true"/>
         <ObjectGroupChild Name="MSGERR" SubclassSubObject="true"/>
         <ObjectGroupChild Name="CHECK" SubclassSubObject="true"/>
         <ObjectGroupChild Name="LISTA" SubclassSubObject="true"/>
         <ObjectGroupChild Name="ITEM_INFO" SubclassSubObject="true"/>
         <ObjectGroupChild Name="ITEM_NORMAL" SubclassSubObject="true"/>
         <ObjectGroupChild Name="PREGUNTAR" SubclassSubObject="true"/>
         <ObjectGroupChild Name="MESSAGEBOX" SubclassSubObject="true"/>
         <ObjectGroupChild Name="TOOLBAR" SubclassSubObject="true"/>
         <ObjectGroupChild Name="TOOLBAR" SubclassSubObject="true"/>
         <ObjectGroupChild Name="CURR_RECORD" SubclassSubObject="true"/>
         <ObjectGroupChild Name="HILIGTH" SubclassSubObject="true"/>
         <ObjectGroupChild Name="NORMAL" SubclassSubObject="true"/>
         <ObjectGroupChild Name="ETIQUETA" SubclassSubObject="true"/>
         <ObjectGroupChild Name="LISTA" SubclassSubObject="true"/>
         <ObjectGroupChild Name="WHEN-WINDOW-RESIZED" SubclassSubObject="true"/>
         <ObjectGroupChild Name="INIT" SubclassSubObject="true"/>
         <ObjectGroupChild Name="WHEN-MOUSE-ENTER" SubclassSubObject="true"/>
         <ObjectGroupChild Name="WHEN-MOUSE-LEAVE" SubclassSubObject="true"/>
         <ObjectGroupChild Name="WHEN-MOUSE-DOUBLECLICK" SubclassSubObject="true"/>
         <ObjectGroupChild Name="ON-ERROR" SubclassSubObject="true"/>
         <ObjectGroupChild Name="ON-MESSAGE" SubclassSubObject="true"/>
         <ObjectGroupChild Name="KEY-NXTBLK" SubclassSubObject="true"/>
         <ObjectGroupChild Name="KEY-PRVBLK" SubclassSubObject="true"/>
         <ObjectGroupChild Name="KEY-NEXT-ITEM" SubclassSubObject="true"/>
         <ObjectGroupChild Name="KEY-PREV-ITEM" SubclassSubObject="true"/>
         <ObjectGroupChild Name="KEY-OTHERS" SubclassSubObject="true"/>
         <ObjectGroupChild Name="KEY-UP" SubclassSubObject="true"/>
         <ObjectGroupChild Name="KEY-DOWN" SubclassSubObject="true"/>
         <ObjectGroupChild Name="KEY-EXIT" SubclassSubObject="true"/>
         <ObjectGroupChild Name="KEY-LISTVAL" SubclassSubObject="true"/>
         <ObjectGroupChild Name="KEY-CLRFRM" SubclassSubObject="true"/>
         <ObjectGroupChild Name="KEY-COMMIT" SubclassSubObject="true"/>
         <ObjectGroupChild Name="KEY-EDIT" SubclassSubObject="true"/>
         <ObjectGroupChild Name="GRABAR" SubclassSubObject="true"/>
         <ObjectGroupChild Name="SALIR" SubclassSubObject="true"/>
         <ObjectGroupChild Name="LIMPIAR" SubclassSubObject="true"/>
         <ObjectGroupChild Name="IMPRIMIR" SubclassSubObject="true"/>
         <ObjectGroupChild Name="BORRAR" SubclassSubObject="true"/>
         <ObjectGroupChild Name="NUEVO" SubclassSubObject="true"/>
         <ObjectGroupChild Name="LISTA" SubclassSubObject="true"/>
         <ObjectGroupChild Name="BUSCAR" SubclassSubObject="true"/>
         <ObjectGroupChild Name="ACERCA_DE" SubclassSubObject="true"/>
         <ObjectGroupChild Name="WHEN-NEW-FORM-INSTANCE" SubclassSubObject="true"/>
      </ObjectGroup>
   </FormModule>
</Module>
